2023-10-25 11:07:58.619 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 11:07:59.325 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 11:07:59.431 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-10-25 11:07:59.433 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-10-25 11:07:59.506 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 11:09:40.682 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 11:09:41.233 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 11:09:41.733 -03:00 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.738 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.748 -03:00 [DBG] An error occurred using the connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.749 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.749 -03:00 [DBG] An error occurred using the connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.750 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.755 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:09:41.761 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:09:41.766 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2023-10-25 11:09:41.772 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2023-10-25 11:09:41.789 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2023-10-25 11:09:41.791 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:09:41.794 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.860 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-10-25 11:09:41.862 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-10-25 11:09:41.882 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:09:41.883 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:09:41.883 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.883 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:09:41.883 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2023-10-25 11:09:41.888 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2023-10-25 11:09:41.889 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:09:41.889 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.890 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.891 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:09:41.896 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-25 11:09:41.896 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-25 11:09:41.896 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.896 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:09:41.897 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-25 11:09:41.899 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-25 11:09:41.899 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:09:41.899 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.901 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 11:09:41.901 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 11:09:41.901 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.901 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:09:41.901 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-25 11:09:41.902 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-25 11:09:41.903 -03:00 [DBG] A data reader was disposed.
2023-10-25 11:09:41.903 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:09:41.903 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.911 -03:00 [INF] Applying migration '20231025140759_CityInfoDBInitialMigration'.
2023-10-25 11:09:41.932 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:41.932 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:09:41.933 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-25 11:09:41.935 -03:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-10-25 11:09:41.935 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:09:41.935 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:09:41.935 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Cities" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Cities" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Description" TEXT NULL
);
2023-10-25 11:09:41.936 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Cities" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Cities" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Description" TEXT NULL
);
2023-10-25 11:09:42.354 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:09:42.354 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:09:42.354 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PointOfInterests" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfInterests" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "CityId" INTEGER NOT NULL,
    CONSTRAINT "FK_PointOfInterests_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE
);
2023-10-25 11:09:42.355 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PointOfInterests" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfInterests" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "CityId" INTEGER NOT NULL,
    CONSTRAINT "FK_PointOfInterests_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE
);
2023-10-25 11:09:42.355 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:09:42.355 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:09:42.355 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfInterests_CityId" ON "PointOfInterests" ("CityId");
2023-10-25 11:09:42.355 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfInterests_CityId" ON "PointOfInterests" ("CityId");
2023-10-25 11:09:42.355 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:09:42.355 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:09:42.355 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231025140759_CityInfoDBInitialMigration', '6.0.0');
2023-10-25 11:09:42.356 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231025140759_CityInfoDBInitialMigration', '6.0.0');
2023-10-25 11:09:42.357 -03:00 [DBG] Committing transaction.
2023-10-25 11:09:42.360 -03:00 [DBG] Committed transaction.
2023-10-25 11:09:42.361 -03:00 [DBG] Disposing transaction.
2023-10-25 11:09:42.361 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:09:42.361 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:09:42.363 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 11:27:17.354 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 11:27:17.923 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 11:27:18.036 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-10-25 11:27:18.039 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-10-25 11:27:18.039 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-10-25 11:27:18.040 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-10-25 11:27:18.045 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-10-25 11:27:18.045 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-10-25 11:27:18.045 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-10-25 11:27:18.045 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-10-25 11:27:18.105 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 11:27:53.968 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 11:27:54.782 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 11:27:55.283 -03:00 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2023-10-25 11:27:55.290 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:27:55.311 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:27:55.333 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-25 11:27:55.341 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (8ms).
2023-10-25 11:27:55.342 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:27:55.345 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:27:55.356 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-25 11:27:55.386 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-25 11:27:55.389 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:27:55.393 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:27:55.394 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:27:55.395 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:27:55.395 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-25 11:27:55.395 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-25 11:27:55.395 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:27:55.395 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:27:55.395 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-25 11:27:55.395 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-25 11:27:55.395 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:27:55.395 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:27:55.413 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 11:27:55.413 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 11:27:55.413 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:27:55.413 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:27:55.414 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-25 11:27:55.415 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-25 11:27:55.420 -03:00 [DBG] A data reader was disposed.
2023-10-25 11:27:55.421 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:27:55.421 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:27:55.433 -03:00 [INF] Applying migration '20231025142718_CityInfoDBAddPointOfInterestDescription'.
2023-10-25 11:27:55.491 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:27:55.491 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:27:55.492 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-25 11:27:55.495 -03:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-10-25 11:27:55.497 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:27:55.497 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:27:55.499 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointOfInterests" ADD "Description" TEXT NOT NULL DEFAULT '';
2023-10-25 11:27:55.500 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PointOfInterests" ADD "Description" TEXT NOT NULL DEFAULT '';
2023-10-25 11:27:55.500 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:27:55.500 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:27:55.500 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231025142718_CityInfoDBAddPointOfInterestDescription', '6.0.0');
2023-10-25 11:27:55.500 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231025142718_CityInfoDBAddPointOfInterestDescription', '6.0.0');
2023-10-25 11:27:55.502 -03:00 [DBG] Committing transaction.
2023-10-25 11:27:55.505 -03:00 [DBG] Committed transaction.
2023-10-25 11:27:55.507 -03:00 [DBG] Disposing transaction.
2023-10-25 11:27:55.507 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:27:55.507 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:27:55.508 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 11:33:04.524 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 11:33:05.054 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 11:33:05.168 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.169 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.169 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.186 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.186 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.186 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.186 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.187 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.187 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.203 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-10-25 11:33:05.205 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-10-25 11:33:05.206 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-10-25 11:33:05.210 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-10-25 11:33:05.248 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.248 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.248 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.248 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.248 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.249 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.249 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.249 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.249 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.258 -03:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.261 -03:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.261 -03:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.262 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.262 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.262 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.262 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.262 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.262 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 11:33:05.263 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-10-25 11:33:05.263 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-10-25 11:33:05.269 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-10-25 11:33:05.270 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-10-25 11:33:05.323 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 11:33:24.504 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 11:33:25.209 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 11:33:25.255 -03:00 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2023-10-25 11:33:25.261 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:33:25.272 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:33:25.285 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-25 11:33:25.291 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-10-25 11:33:25.292 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:33:25.295 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:33:25.301 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-25 11:33:25.317 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-25 11:33:25.318 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:33:25.321 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:33:25.322 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:33:25.323 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:33:25.323 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-10-25 11:33:25.323 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-25 11:33:25.323 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:33:25.323 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:33:25.323 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-25 11:33:25.324 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-10-25 11:33:25.324 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:33:25.324 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:33:25.333 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 11:33:25.333 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 11:33:25.333 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:33:25.333 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:33:25.334 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-25 11:33:25.334 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-25 11:33:25.336 -03:00 [DBG] A data reader was disposed.
2023-10-25 11:33:25.336 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:33:25.336 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:33:25.345 -03:00 [INF] Applying migration '20231025143305_DataSeed'.
2023-10-25 11:33:25.388 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:33:25.388 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:33:25.389 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-25 11:33:25.392 -03:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-10-25 11:33:25.393 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:33:25.393 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:33:25.394 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cities" ("Id", "Description", "Name")
VALUES (1, 'The one with that big park.', 'New York City');
2023-10-25 11:33:25.395 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cities" ("Id", "Description", "Name")
VALUES (1, 'The one with that big park.', 'New York City');
2023-10-25 11:33:25.395 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:33:25.395 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:33:25.395 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cities" ("Id", "Description", "Name")
VALUES (2, 'The one with the cathedral that was never really finished.', 'Antwerp');
2023-10-25 11:33:25.395 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cities" ("Id", "Description", "Name")
VALUES (2, 'The one with the cathedral that was never really finished.', 'Antwerp');
2023-10-25 11:33:25.395 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:33:25.395 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:33:25.395 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cities" ("Id", "Description", "Name")
VALUES (3, 'The one with that big tower.', 'Paris');
2023-10-25 11:33:25.396 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cities" ("Id", "Description", "Name")
VALUES (3, 'The one with that big tower.', 'Paris');
2023-10-25 11:33:25.396 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:33:25.396 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:33:25.396 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (1, 1, 'The most visited urban park in the United States.', 'Central Park');
2023-10-25 11:33:25.397 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (1, 1, 'The most visited urban park in the United States.', 'Central Park');
2023-10-25 11:33:25.397 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:33:25.397 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:33:25.397 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (2, 1, 'A 102-story skyscraper located in Midtown Manhattan.', 'Empire State Building');
2023-10-25 11:33:25.398 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (2, 1, 'A 102-story skyscraper located in Midtown Manhattan.', 'Empire State Building');
2023-10-25 11:33:25.398 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:33:25.398 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:33:25.398 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (3, 2, 'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', 'Cathedral');
2023-10-25 11:33:25.398 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (3, 2, 'A Gothic style cathedral, conceived by architects Jan and Pieter Appelmans.', 'Cathedral');
2023-10-25 11:33:25.398 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:33:25.398 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:33:26.503 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (4, 2, 'The the finest example of railway architecture in Belgium.', 'Antwerp Central Station');
2023-10-25 11:33:26.503 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (4, 2, 'The the finest example of railway architecture in Belgium.', 'Antwerp Central Station');
2023-10-25 11:33:26.503 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:33:26.504 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:33:26.504 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (5, 3, 'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', 'Eiffel Tower');
2023-10-25 11:33:26.504 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (5, 3, 'A wrought iron lattice tower on the Champ de Mars, named after engineer Gustave Eiffel.', 'Eiffel Tower');
2023-10-25 11:33:26.504 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:33:26.504 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:33:26.504 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (6, 3, 'The world''s largest museum.', 'The Louvre');
2023-10-25 11:33:26.504 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (6, 3, 'The world''s largest museum.', 'The Louvre');
2023-10-25 11:33:26.504 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-10-25 11:33:26.504 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-25 11:33:26.504 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231025143305_DataSeed', '6.0.0');
2023-10-25 11:33:26.504 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231025143305_DataSeed', '6.0.0');
2023-10-25 11:33:26.505 -03:00 [DBG] Committing transaction.
2023-10-25 11:33:26.509 -03:00 [DBG] Committed transaction.
2023-10-25 11:33:26.510 -03:00 [DBG] Disposing transaction.
2023-10-25 11:33:26.510 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 11:33:26.510 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 11:33:26.511 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 11:40:20.756 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 11:40:21.598 -03:00 [DBG] Hosting starting
2023-10-25 11:40:21.973 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 11:40:22.058 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 11:40:22.059 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 11:40:22.060 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 11:40:22.061 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 11:40:22.063 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 11:40:22.064 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 11:40:22.065 -03:00 [INF] Hosting environment: Development
2023-10-25 11:40:22.066 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 11:40:22.068 -03:00 [DBG] Hosting started
2023-10-25 11:40:22.393 -03:00 [DBG] Connection id "0HMULD18O4Q7G" accepted.
2023-10-25 11:40:22.397 -03:00 [DBG] Connection id "0HMULD18O4Q7G" started.
2023-10-25 11:40:22.501 -03:00 [DBG] Connection id "0HMULD18O4Q7H" accepted.
2023-10-25 11:40:22.505 -03:00 [DBG] Connection id "0HMULD18O4Q7H" started.
2023-10-25 11:40:25.515 -03:00 [DBG] Connection id "0HMULD18O4Q7I" accepted.
2023-10-25 11:40:26.408 -03:00 [DBG] Connection id "0HMULD18O4Q7I" started.
2023-10-25 11:40:28.351 -03:00 [DBG] Connection 0HMULD18O4Q7I established using the following protocol: "Tls12"
2023-10-25 11:40:28.575 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 11:40:29.096 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 11:40:29.675 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 11:40:30.178 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 11:40:30.193 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 1626.9198ms
2023-10-25 11:40:30.229 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 11:40:30.239 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 10.4699ms
2023-10-25 11:40:30.282 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 11:40:30.469 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 187.2930ms
2023-10-25 11:40:30.917 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 11:40:31.392 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 476.5747ms
2023-10-25 11:40:32.445 -03:00 [DBG] Authentication of the HTTPS connection timed out.
2023-10-25 11:40:32.454 -03:00 [DBG] Connection id "0HMULD18O4Q7G" stopped.
2023-10-25 11:40:32.458 -03:00 [DBG] Connection id "0HMULD18O4Q7G" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 11:40:32.527 -03:00 [DBG] Authentication of the HTTPS connection timed out.
2023-10-25 11:40:32.528 -03:00 [DBG] Connection id "0HMULD18O4Q7H" stopped.
2023-10-25 11:40:32.530 -03:00 [DBG] Connection id "0HMULD18O4Q7H" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 11:41:25.911 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 11:41:26.686 -03:00 [DBG] Hosting starting
2023-10-25 11:41:26.973 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 11:41:27.052 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 11:41:27.054 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 11:41:27.055 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 11:41:27.056 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 11:41:27.057 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 11:41:27.059 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 11:41:27.060 -03:00 [INF] Hosting environment: Development
2023-10-25 11:41:27.062 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 11:41:27.063 -03:00 [DBG] Hosting started
2023-10-25 11:41:27.264 -03:00 [DBG] Connection id "0HMULD1S2QJUJ" received FIN.
2023-10-25 11:41:27.267 -03:00 [DBG] Connection id "0HMULD1S2QJUJ" accepted.
2023-10-25 11:41:27.271 -03:00 [DBG] Connection id "0HMULD1S2QJUJ" started.
2023-10-25 11:41:27.304 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 11:41:27.429 -03:00 [DBG] Connection id "0HMULD1S2QJUJ" stopped.
2023-10-25 11:41:27.434 -03:00 [DBG] Connection id "0HMULD1S2QJUJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 11:41:28.347 -03:00 [DBG] Connection id "0HMULD1S2QJUK" accepted.
2023-10-25 11:41:28.662 -03:00 [DBG] Connection id "0HMULD1S2QJUK" started.
2023-10-25 11:41:29.271 -03:00 [DBG] Connection 0HMULD1S2QJUK established using the following protocol: "Tls12"
2023-10-25 11:41:29.480 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 11:41:29.648 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 11:41:29.923 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 11:41:30.308 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 11:41:30.324 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 11:41:30.340 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 11:41:30.357 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 884.2124ms
2023-10-25 11:41:30.374 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 65.5852ms
2023-10-25 11:41:30.671 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 346.8903ms
2023-10-25 11:41:30.771 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 11:41:31.220 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 448.6670ms
2023-10-25 11:41:39.195 -03:00 [DBG] Connection id "0HMULD1S2QJUK" received FIN.
2023-10-25 11:41:39.203 -03:00 [DBG] Connection id "0HMULD1S2QJUK" is closed. The last processed stream ID was 7.
2023-10-25 11:41:39.206 -03:00 [DBG] Connection id "0HMULD1S2QJUK" sending FIN because: "The client closed the connection."
2023-10-25 11:41:39.210 -03:00 [DBG] Connection id "0HMULD1S2QJUK" stopped.
2023-10-25 11:41:48.768 -03:00 [DBG] Connection id "0HMULD1S2QJUL" accepted.
2023-10-25 11:41:48.770 -03:00 [DBG] Connection id "0HMULD1S2QJUL" started.
2023-10-25 11:41:48.813 -03:00 [DBG] Connection id "0HMULD1S2QJUM" accepted.
2023-10-25 11:41:48.813 -03:00 [DBG] Connection id "0HMULD1S2QJUL" received FIN.
2023-10-25 11:41:48.815 -03:00 [DBG] Connection id "0HMULD1S2QJUM" started.
2023-10-25 11:41:48.817 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 11:41:48.833 -03:00 [DBG] Connection id "0HMULD1S2QJUL" stopped.
2023-10-25 11:41:48.836 -03:00 [DBG] Connection id "0HMULD1S2QJUL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 11:41:48.845 -03:00 [DBG] Connection 0HMULD1S2QJUM established using the following protocol: "Tls12"
2023-10-25 11:41:48.864 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities - -
2023-10-25 11:41:48.868 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 11:41:48.908 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-25 11:41:48.915 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-25 11:41:48.917 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 11:41:48.921 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 11:41:48.937 -03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDTO]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 11:41:48.940 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 11:41:48.943 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 11:41:48.946 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 11:41:48.949 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 11:41:48.951 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 11:41:48.955 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 11:41:48.961 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 11:41:48.966 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 11:41:48.971 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 11:41:48.973 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 11:41:48.976 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 11:41:48.979 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 11:41:48.981 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-25 11:41:49.237 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 278.2631ms
2023-10-25 11:41:49.241 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 11:41:49.244 -03:00 [DBG] Connection id "0HMULD1S2QJUM" completed keep alive response.
2023-10-25 11:41:49.245 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities - - - 200 1060 application/json;+charset=utf-8 381.1138ms
2023-10-25 11:42:00.534 -03:00 [DBG] Connection id "0HMULD1S2QJUN" accepted.
2023-10-25 11:42:00.536 -03:00 [DBG] Connection id "0HMULD1S2QJUN" started.
2023-10-25 11:42:00.547 -03:00 [DBG] Connection 0HMULD1S2QJUN established using the following protocol: "Tls12"
2023-10-25 11:42:00.550 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/api/cities - -
2023-10-25 11:42:00.551 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 11:42:00.552 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-25 11:42:00.554 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-25 11:42:00.556 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 11:42:00.558 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 11:42:00.560 -03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDTO]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 11:42:00.562 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 11:42:00.563 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 11:42:00.564 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 11:42:00.565 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 11:42:00.566 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 11:42:00.567 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 11:42:00.568 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 11:42:00.569 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 11:42:00.572 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-10-25 11:42:00.576 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-10-25 11:42:00.577 -03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-10-25 11:42:00.578 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 11.1634ms
2023-10-25 11:42:00.579 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 11:42:00.580 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/api/cities - - - 406 0 - 29.6507ms
2023-10-25 11:43:30.679 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 11:43:30.865 -03:00 [DBG] Hosting starting
2023-10-25 11:43:31.085 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 11:43:31.203 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 11:43:31.205 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 11:43:31.206 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 11:43:31.206 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 11:43:31.207 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 11:43:31.209 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 11:43:31.210 -03:00 [INF] Hosting environment: Development
2023-10-25 11:43:31.211 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 11:43:31.213 -03:00 [DBG] Hosting started
2023-10-25 11:43:31.284 -03:00 [DBG] Connection id "0HMULD311GIQQ" accepted.
2023-10-25 11:43:31.288 -03:00 [DBG] Connection id "0HMULD311GIQQ" started.
2023-10-25 11:43:31.288 -03:00 [DBG] Connection id "0HMULD311GIQQ" received FIN.
2023-10-25 11:43:31.327 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 11:43:31.392 -03:00 [DBG] Connection id "0HMULD311GIQQ" stopped.
2023-10-25 11:43:31.397 -03:00 [DBG] Connection id "0HMULD311GIQQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 11:43:32.243 -03:00 [DBG] Connection id "0HMULD311GIQR" accepted.
2023-10-25 11:43:32.272 -03:00 [DBG] Connection id "0HMULD311GIQR" started.
2023-10-25 11:43:32.643 -03:00 [DBG] Connection 0HMULD311GIQR established using the following protocol: "Tls12"
2023-10-25 11:43:32.789 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 11:43:32.898 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 11:43:33.208 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 11:43:33.598 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 11:43:33.651 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 11:43:33.609 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 11:43:33.678 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 77.3893ms
2023-10-25 11:43:33.678 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 897.1210ms
2023-10-25 11:43:33.789 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 137.8829ms
2023-10-25 11:43:33.888 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 11:43:34.313 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 425.3084ms
2023-10-25 11:43:57.487 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 11:43:57.701 -03:00 [DBG] Hosting starting
2023-10-25 11:43:57.965 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 11:43:58.048 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 11:43:58.049 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 11:43:58.051 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 11:43:58.053 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 11:43:58.055 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 11:43:58.057 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 11:43:58.058 -03:00 [INF] Hosting environment: Development
2023-10-25 11:43:58.060 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 11:43:58.060 -03:00 [DBG] Hosting started
2023-10-25 11:43:58.155 -03:00 [DBG] Connection id "0HMULD391RU6F" received FIN.
2023-10-25 11:43:58.179 -03:00 [DBG] Connection id "0HMULD391RU6F" accepted.
2023-10-25 11:43:58.183 -03:00 [DBG] Connection id "0HMULD391RU6F" started.
2023-10-25 11:43:58.217 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 11:43:58.279 -03:00 [DBG] Connection id "0HMULD391RU6F" stopped.
2023-10-25 11:43:58.286 -03:00 [DBG] Connection id "0HMULD391RU6F" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 11:43:58.902 -03:00 [DBG] Connection id "0HMULD391RU6G" accepted.
2023-10-25 11:43:58.921 -03:00 [DBG] Connection id "0HMULD391RU6G" started.
2023-10-25 11:43:59.310 -03:00 [DBG] Connection 0HMULD391RU6G established using the following protocol: "Tls12"
2023-10-25 11:43:59.544 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 11:43:59.693 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 11:44:00.023 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 11:44:00.490 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 11:44:00.526 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 11:44:00.552 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 57.0148ms
2023-10-25 11:44:00.556 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 11:44:00.587 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 1051.9854ms
2023-10-25 11:44:00.667 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 141.1639ms
2023-10-25 11:44:00.773 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 11:44:01.243 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 469.7953ms
2023-10-25 14:28:18.677 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 14:28:19.347 -03:00 [DBG] Hosting starting
2023-10-25 14:28:19.706 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 14:28:19.783 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 14:28:19.786 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 14:28:19.788 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 14:28:19.790 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 14:28:19.791 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 14:28:19.792 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 14:28:19.793 -03:00 [INF] Hosting environment: Development
2023-10-25 14:28:19.794 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 14:28:19.795 -03:00 [DBG] Hosting started
2023-10-25 14:28:19.797 -03:00 [DBG] Connection id "0HMULFV41Q697" received FIN.
2023-10-25 14:28:19.809 -03:00 [DBG] Connection id "0HMULFV41Q697" accepted.
2023-10-25 14:28:19.812 -03:00 [DBG] Connection id "0HMULFV41Q697" started.
2023-10-25 14:28:19.836 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 14:28:19.906 -03:00 [DBG] Connection id "0HMULFV41Q697" stopped.
2023-10-25 14:28:19.912 -03:00 [DBG] Connection id "0HMULFV41Q697" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 14:28:25.769 -03:00 [DBG] Connection id "0HMULFV41Q698" accepted.
2023-10-25 14:28:25.783 -03:00 [DBG] Connection id "0HMULFV41Q698" started.
2023-10-25 14:28:26.582 -03:00 [DBG] Connection 0HMULFV41Q698 established using the following protocol: "Tls12"
2023-10-25 14:28:27.121 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 14:28:27.613 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 14:28:28.099 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 14:28:28.528 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 14:28:28.549 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 1483.4641ms
2023-10-25 14:28:28.589 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 14:28:28.607 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 17.8277ms
2023-10-25 14:28:28.614 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 14:28:28.661 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.3090ms
2023-10-25 14:28:29.034 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 14:28:29.470 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 435.2176ms
2023-10-25 14:28:46.783 -03:00 [DBG] Connection id "0HMULFV41Q699" accepted.
2023-10-25 14:28:46.788 -03:00 [DBG] Connection id "0HMULFV41Q699" received FIN.
2023-10-25 14:28:46.788 -03:00 [DBG] Connection id "0HMULFV41Q699" started.
2023-10-25 14:28:46.789 -03:00 [DBG] Connection id "0HMULFV41Q69A" accepted.
2023-10-25 14:28:46.792 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 14:28:46.793 -03:00 [DBG] Connection id "0HMULFV41Q69A" started.
2023-10-25 14:28:46.798 -03:00 [DBG] Connection id "0HMULFV41Q699" stopped.
2023-10-25 14:28:46.800 -03:00 [DBG] Connection id "0HMULFV41Q699" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 14:28:46.808 -03:00 [DBG] Connection 0HMULFV41Q69A established using the following protocol: "Tls12"
2023-10-25 14:28:46.827 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities - -
2023-10-25 14:28:46.832 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 14:28:46.891 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-25 14:28:46.899 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-25 14:28:46.903 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 14:28:46.908 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 14:28:46.949 -03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 14:28:46.953 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 14:28:46.954 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 14:28:46.956 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 14:28:46.958 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 14:28:46.960 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 14:28:46.964 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 14:28:47.590 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 14:28:47.638 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 14:28:49.254 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 14:28:49.353 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-10-25 14:28:49.950 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-10-25 14:28:50.039 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 14:28:50.601 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (557ms).
2023-10-25 14:28:50.620 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 14:28:50.648 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 14:28:50.670 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-25 14:28:50.713 -03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-25 14:28:50.757 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:28:50.799 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:28:50.800 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:28:50.810 -03:00 [DBG] A data reader was disposed.
2023-10-25 14:28:50.827 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 14:28:50.842 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 14:28:50.848 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 14:28:50.853 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 14:28:50.854 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 14:28:50.855 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 14:28:50.856 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 14:28:50.858 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-25 14:28:51.184 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 4212.6223ms
2023-10-25 14:28:51.187 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 14:28:51.189 -03:00 [DBG] Connection id "0HMULFV41Q69A" completed keep alive response.
2023-10-25 14:28:51.199 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 14:28:51.208 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities - - - 200 247 application/json;+charset=utf-8 4381.0388ms
2023-10-25 14:45:38.699 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 14:45:38.957 -03:00 [DBG] Hosting starting
2023-10-25 14:45:39.354 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 14:45:39.433 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 14:45:39.436 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 14:45:39.439 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 14:45:39.440 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 14:45:39.441 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 14:45:39.442 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 14:45:39.445 -03:00 [INF] Hosting environment: Development
2023-10-25 14:45:39.447 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 14:45:39.448 -03:00 [DBG] Hosting started
2023-10-25 14:45:39.686 -03:00 [DBG] Connection id "0HMULG8PUT2II" accepted.
2023-10-25 14:45:39.686 -03:00 [DBG] Connection id "0HMULG8PUT2IJ" accepted.
2023-10-25 14:45:39.690 -03:00 [DBG] Connection id "0HMULG8PUT2II" started.
2023-10-25 14:45:39.691 -03:00 [DBG] Connection id "0HMULG8PUT2IJ" started.
2023-10-25 14:45:39.733 -03:00 [DBG] Connection id "0HMULG8PUT2II" received FIN.
2023-10-25 14:45:39.747 -03:00 [DBG] Connection id "0HMULG8PUT2IJ" received FIN.
2023-10-25 14:45:39.791 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 14:45:39.791 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 14:45:39.871 -03:00 [DBG] Connection id "0HMULG8PUT2II" stopped.
2023-10-25 14:45:39.871 -03:00 [DBG] Connection id "0HMULG8PUT2IJ" stopped.
2023-10-25 14:45:39.876 -03:00 [DBG] Connection id "0HMULG8PUT2IJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 14:45:39.876 -03:00 [DBG] Connection id "0HMULG8PUT2II" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 14:45:40.557 -03:00 [DBG] Connection id "0HMULG8PUT2IK" accepted.
2023-10-25 14:45:40.585 -03:00 [DBG] Connection id "0HMULG8PUT2IK" started.
2023-10-25 14:45:41.439 -03:00 [DBG] Connection 0HMULG8PUT2IK established using the following protocol: "Tls12"
2023-10-25 14:45:42.418 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 14:45:42.513 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 14:45:42.782 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 14:45:43.220 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 14:45:43.225 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 14:45:43.235 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 823.4292ms
2023-10-25 14:45:43.254 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 29.6578ms
2023-10-25 14:45:43.342 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 14:45:43.441 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 99.1016ms
2023-10-25 14:45:43.934 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 14:45:44.357 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 422.5171ms
2023-10-25 14:45:52.260 -03:00 [DBG] Connection id "0HMULG8PUT2IK" received FIN.
2023-10-25 14:45:52.271 -03:00 [DBG] Connection id "0HMULG8PUT2IK" is closed. The last processed stream ID was 7.
2023-10-25 14:45:52.273 -03:00 [DBG] Connection id "0HMULG8PUT2IK" sending FIN because: "The client closed the connection."
2023-10-25 14:45:52.289 -03:00 [DBG] Connection id "0HMULG8PUT2IK" stopped.
2023-10-25 14:46:22.450 -03:00 [DBG] Connection id "0HMULG8PUT2IL" accepted.
2023-10-25 14:46:22.468 -03:00 [DBG] Connection id "0HMULG8PUT2IL" received FIN.
2023-10-25 14:46:22.498 -03:00 [DBG] Connection id "0HMULG8PUT2IL" started.
2023-10-25 14:46:22.566 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 14:46:22.569 -03:00 [DBG] Connection id "0HMULG8PUT2IM" accepted.
2023-10-25 14:46:22.575 -03:00 [DBG] Connection id "0HMULG8PUT2IL" stopped.
2023-10-25 14:46:22.575 -03:00 [DBG] Connection id "0HMULG8PUT2IM" started.
2023-10-25 14:46:22.582 -03:00 [DBG] Connection id "0HMULG8PUT2IL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 14:46:22.608 -03:00 [DBG] Connection 0HMULG8PUT2IM established using the following protocol: "Tls12"
2023-10-25 14:46:22.623 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities - -
2023-10-25 14:46:22.631 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 14:46:22.708 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-25 14:46:22.725 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-25 14:46:22.728 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 14:46:22.733 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 14:46:22.782 -03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 14:46:22.786 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 14:46:22.788 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 14:46:22.792 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 14:46:22.796 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 14:46:22.799 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 14:46:22.801 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 14:46:23.650 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 14:46:24.543 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 14:46:26.850 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 14:46:26.988 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-10-25 14:46:27.773 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-10-25 14:46:27.890 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 14:46:28.622 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (733ms).
2023-10-25 14:46:28.656 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 14:46:28.703 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 14:46:28.736 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-25 14:46:28.803 -03:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-25 14:46:28.858 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:46:28.930 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:46:28.932 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:46:28.960 -03:00 [DBG] A data reader was disposed.
2023-10-25 14:46:28.982 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 14:46:28.997 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 14:46:29.068 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 14:46:29.074 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 14:46:29.076 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 14:46:29.079 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 14:46:29.082 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 14:46:29.085 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-25 14:46:29.453 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 6636.3596ms
2023-10-25 14:46:29.458 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 14:46:29.460 -03:00 [DBG] Connection id "0HMULG8PUT2IM" completed keep alive response.
2023-10-25 14:46:29.474 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 14:46:29.484 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities - - - 200 247 application/json;+charset=utf-8 6856.8338ms
2023-10-25 14:51:46.782 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 14:51:47.043 -03:00 [DBG] Hosting starting
2023-10-25 14:51:47.414 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 14:51:47.559 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 14:51:47.560 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 14:51:47.562 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 14:51:47.565 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 14:51:47.566 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 14:51:47.571 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 14:51:47.572 -03:00 [INF] Hosting environment: Development
2023-10-25 14:51:47.574 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 14:51:47.576 -03:00 [DBG] Hosting started
2023-10-25 14:51:47.799 -03:00 [DBG] Connection id "0HMULGC7LI93U" received FIN.
2023-10-25 14:51:47.799 -03:00 [DBG] Connection id "0HMULGC7LI93V" received FIN.
2023-10-25 14:51:47.804 -03:00 [DBG] Connection id "0HMULGC7LI93V" accepted.
2023-10-25 14:51:47.804 -03:00 [DBG] Connection id "0HMULGC7LI93U" accepted.
2023-10-25 14:51:47.808 -03:00 [DBG] Connection id "0HMULGC7LI93V" started.
2023-10-25 14:51:47.808 -03:00 [DBG] Connection id "0HMULGC7LI93U" started.
2023-10-25 14:51:47.845 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 14:51:47.845 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 14:51:47.945 -03:00 [DBG] Connection id "0HMULGC7LI93V" stopped.
2023-10-25 14:51:47.945 -03:00 [DBG] Connection id "0HMULGC7LI93U" stopped.
2023-10-25 14:51:47.954 -03:00 [DBG] Connection id "0HMULGC7LI93V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 14:51:47.955 -03:00 [DBG] Connection id "0HMULGC7LI93U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 14:51:48.924 -03:00 [DBG] Connection id "0HMULGC7LI940" accepted.
2023-10-25 14:51:49.678 -03:00 [DBG] Connection id "0HMULGC7LI940" started.
2023-10-25 14:51:50.293 -03:00 [DBG] Connection 0HMULGC7LI940 established using the following protocol: "Tls12"
2023-10-25 14:51:50.524 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 14:51:50.765 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 14:51:51.216 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 14:51:51.707 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 14:51:51.711 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 14:51:51.725 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 1226.0770ms
2023-10-25 14:51:51.725 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 12.7705ms
2023-10-25 14:51:51.780 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 14:51:51.869 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 88.9130ms
2023-10-25 14:51:52.078 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 14:51:52.445 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 366.6647ms
2023-10-25 14:51:58.034 -03:00 [DBG] Connection id "0HMULGC7LI940" received FIN.
2023-10-25 14:51:58.045 -03:00 [DBG] Connection id "0HMULGC7LI940" is closed. The last processed stream ID was 7.
2023-10-25 14:51:58.047 -03:00 [DBG] Connection id "0HMULGC7LI940" sending FIN because: "The client closed the connection."
2023-10-25 14:51:58.050 -03:00 [DBG] Connection id "0HMULGC7LI940" stopped.
2023-10-25 14:52:25.596 -03:00 [DBG] Connection id "0HMULGC7LI941" accepted.
2023-10-25 14:52:25.608 -03:00 [DBG] Connection id "0HMULGC7LI941" received FIN.
2023-10-25 14:52:25.622 -03:00 [DBG] Connection id "0HMULGC7LI941" started.
2023-10-25 14:52:25.650 -03:00 [DBG] Connection id "0HMULGC7LI942" accepted.
2023-10-25 14:52:25.654 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 14:52:25.655 -03:00 [DBG] Connection id "0HMULGC7LI942" started.
2023-10-25 14:52:25.658 -03:00 [DBG] Connection id "0HMULGC7LI941" stopped.
2023-10-25 14:52:25.659 -03:00 [DBG] Connection id "0HMULGC7LI941" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 14:52:25.671 -03:00 [DBG] Connection 0HMULGC7LI942 established using the following protocol: "Tls12"
2023-10-25 14:52:25.693 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1 - -
2023-10-25 14:52:25.697 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 14:52:25.751 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-25 14:52:25.757 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-25 14:52:25.761 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 14:52:25.767 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 14:52:25.819 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 14:52:25.825 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 14:52:25.826 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 14:52:25.828 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 14:52:25.830 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 14:52:25.831 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 14:52:25.833 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 14:52:26.426 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 14:52:26.897 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 14:52:26.912 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 14:52:26.918 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 14:52:26.923 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 14:52:26.924 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 14:52:26.925 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 14:52:26.928 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 14:52:26.932 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 14:52:26.936 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-10-25 14:52:26.938 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 14:52:26.940 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 14:52:26.941 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 14:52:26.943 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 14:52:26.944 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 14:52:28.538 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 14:52:28.673 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-25 14:52:29.250 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 14:52:29.388 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 14:52:30.036 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (652ms).
2023-10-25 14:52:30.069 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 14:52:30.115 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 14:52:30.147 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-25 14:52:30.208 -03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-25 14:52:30.252 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:52:30.319 -03:00 [DBG] A data reader was disposed.
2023-10-25 14:52:30.336 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 14:52:30.348 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 14:52:30.379 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 14:52:30.385 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 14:52:30.386 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 14:52:30.387 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 14:52:30.389 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 14:52:30.391 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-10-25 14:52:30.662 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 4818.8601ms
2023-10-25 14:52:30.669 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 14:52:30.670 -03:00 [DBG] Connection id "0HMULGC7LI942" completed keep alive response.
2023-10-25 14:52:30.680 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 14:52:30.688 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1 - - - 200 75 application/json;+charset=utf-8 4994.9686ms
2023-10-25 14:53:01.621 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - -
2023-10-25 14:53:01.624 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 14:53:01.627 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-25 14:53:01.628 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-25 14:53:01.630 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 14:53:01.633 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 14:53:01.635 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 14:53:01.638 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 14:53:01.640 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 14:53:01.642 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 14:53:01.643 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 14:53:01.645 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 14:53:01.646 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 14:53:01.664 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 14:53:01.683 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 14:53:01.685 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 14:53:01.687 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 14:53:01.688 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 14:53:01.689 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 14:53:01.691 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 14:53:01.693 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 14:53:01.697 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-25 14:53:01.700 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 14:53:01.701 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 14:53:01.703 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 14:53:01.704 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 14:53:01.715 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 14:53:01.763 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-25 14:53:01.806 -03:00 [DBG] Including navigation: 'City.PointsOfInterests'.
2023-10-25 14:53:02.034 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 14:53:02.046 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 14:53:02.049 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-10-25 14:53:02.053 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 14:53:02.054 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 14:53:02.056 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 14:53:02.060 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 14:53:02.063 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:53:02.079 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:53:02.116 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:53:02.119 -03:00 [DBG] A data reader was disposed.
2023-10-25 14:53:02.120 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 14:53:02.121 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 14:53:02.124 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 14:53:02.129 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 14:53:02.130 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 14:53:02.130 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 14:53:02.131 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 14:53:02.133 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-10-25 14:53:02.154 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 507.982ms
2023-10-25 14:53:02.156 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 14:53:02.158 -03:00 [DBG] Connection id "0HMULGC7LI942" completed keep alive response.
2023-10-25 14:53:02.159 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 14:53:02.161 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - - - 200 126 application/json;+charset=utf-8 539.4901ms
2023-10-25 14:58:01.342 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 14:58:01.609 -03:00 [DBG] Hosting starting
2023-10-25 14:58:01.946 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 14:58:02.040 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 14:58:02.043 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 14:58:02.045 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 14:58:02.045 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 14:58:02.048 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 14:58:02.050 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 14:58:02.051 -03:00 [INF] Hosting environment: Development
2023-10-25 14:58:02.053 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 14:58:02.054 -03:00 [DBG] Hosting started
2023-10-25 14:58:02.134 -03:00 [DBG] Connection id "0HMULGFN7G7SL" received FIN.
2023-10-25 14:58:02.154 -03:00 [DBG] Connection id "0HMULGFN7G7SL" accepted.
2023-10-25 14:58:02.158 -03:00 [DBG] Connection id "0HMULGFN7G7SL" started.
2023-10-25 14:58:02.185 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 14:58:02.244 -03:00 [DBG] Connection id "0HMULGFN7G7SL" stopped.
2023-10-25 14:58:02.251 -03:00 [DBG] Connection id "0HMULGFN7G7SL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 14:58:08.199 -03:00 [DBG] Connection id "0HMULGFN7G7SM" accepted.
2023-10-25 14:58:08.792 -03:00 [DBG] Connection id "0HMULGFN7G7SM" started.
2023-10-25 14:58:09.013 -03:00 [DBG] Connection 0HMULGFN7G7SM established using the following protocol: "Tls12"
2023-10-25 14:58:09.187 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 14:58:09.303 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 14:58:09.935 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 14:58:10.395 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 14:58:10.412 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 14:58:10.415 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 14:58:10.425 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 29.4076ms
2023-10-25 14:58:10.426 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 1248.7502ms
2023-10-25 14:58:10.703 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 287.6643ms
2023-10-25 14:58:10.892 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 14:58:11.490 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 599.4149ms
2023-10-25 14:58:43.212 -03:00 [DBG] Connection id "0HMULGFN7G7SN" accepted.
2023-10-25 14:58:43.218 -03:00 [DBG] Connection id "0HMULGFN7G7SN" received FIN.
2023-10-25 14:58:43.219 -03:00 [DBG] Connection id "0HMULGFN7G7SN" started.
2023-10-25 14:58:43.220 -03:00 [DBG] Connection id "0HMULGFN7G7SO" accepted.
2023-10-25 14:58:43.237 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 14:58:43.238 -03:00 [DBG] Connection id "0HMULGFN7G7SO" started.
2023-10-25 14:58:43.242 -03:00 [DBG] Connection id "0HMULGFN7G7SN" stopped.
2023-10-25 14:58:43.244 -03:00 [DBG] Connection id "0HMULGFN7G7SN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 14:58:43.254 -03:00 [DBG] Connection 0HMULGFN7G7SO established using the following protocol: "Tls12"
2023-10-25 14:58:43.283 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - -
2023-10-25 14:58:43.286 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 14:58:43.327 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-25 14:58:43.333 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-25 14:58:43.335 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 14:58:43.339 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 14:58:43.396 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 14:58:43.400 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 14:58:43.401 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 14:58:43.403 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 14:58:43.408 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 14:58:43.409 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 14:58:43.410 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 14:58:44.003 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 14:58:44.492 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 14:58:44.509 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 14:58:44.516 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 14:58:44.520 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 14:58:44.521 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 14:58:44.523 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 14:58:44.527 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 14:58:44.532 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 14:58:44.536 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-25 14:58:44.539 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 14:58:44.540 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 14:58:44.542 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 14:58:44.544 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 14:58:46.302 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 14:58:46.502 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-25 14:58:46.713 -03:00 [DBG] Including navigation: 'City.PointsOfInterests'.
2023-10-25 14:58:47.432 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 14:58:47.564 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 14:58:48.190 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (618ms).
2023-10-25 14:58:48.215 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 14:58:48.248 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 14:58:48.285 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 14:58:48.356 -03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 14:58:48.404 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:58:48.462 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:58:48.494 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:58:48.510 -03:00 [DBG] A data reader was disposed.
2023-10-25 14:58:48.526 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 14:58:48.536 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 14:58:48.566 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 14:58:48.573 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 14:58:48.574 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 14:58:48.576 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 14:58:48.578 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 14:58:48.579 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-10-25 14:58:48.863 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 5445.7836ms
2023-10-25 14:58:48.866 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 14:58:48.867 -03:00 [DBG] Connection id "0HMULGFN7G7SO" completed keep alive response.
2023-10-25 14:58:48.878 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 14:58:48.886 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - - - 200 126 application/json;+charset=utf-8 5608.3712ms
2023-10-25 14:59:03.857 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - -
2023-10-25 14:59:03.858 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 14:59:03.862 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-25 14:59:03.864 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-25 14:59:03.865 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 14:59:03.866 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 14:59:03.867 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 14:59:03.869 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 14:59:03.870 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 14:59:03.871 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 14:59:03.873 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 14:59:03.874 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 14:59:03.876 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 14:59:03.889 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 14:59:03.891 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 14:59:03.893 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 14:59:03.895 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 14:59:03.895 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 14:59:03.897 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 14:59:03.898 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 14:59:03.899 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 14:59:03.900 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-25 14:59:03.901 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 14:59:03.902 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 14:59:03.903 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 14:59:03.904 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 14:59:03.911 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 14:59:03.934 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 14:59:03.935 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 14:59:03.937 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 14:59:03.938 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 14:59:03.940 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 14:59:03.944 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 14:59:03.948 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:59:03.949 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:59:03.951 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 14:59:03.952 -03:00 [DBG] A data reader was disposed.
2023-10-25 14:59:03.953 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 14:59:03.954 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 14:59:03.956 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 14:59:03.959 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 14:59:03.961 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 14:59:03.962 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 14:59:03.963 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 14:59:03.964 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-10-25 14:59:03.965 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 88.8675ms
2023-10-25 14:59:03.966 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 14:59:03.966 -03:00 [DBG] Connection id "0HMULGFN7G7SO" completed keep alive response.
2023-10-25 14:59:03.967 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 14:59:03.968 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - - - 200 126 application/json;+charset=utf-8 110.6551ms
2023-10-25 15:03:13.503 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 15:03:13.605 -03:00 [DBG] Hosting starting
2023-10-25 15:03:13.757 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 15:03:13.798 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 15:03:13.801 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 15:03:13.802 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 15:03:13.804 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 15:03:13.807 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 15:03:13.809 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 15:03:13.811 -03:00 [INF] Hosting environment: Development
2023-10-25 15:03:13.811 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 15:03:13.812 -03:00 [DBG] Hosting started
2023-10-25 15:03:13.908 -03:00 [DBG] Connection id "0HMULGIK4PIMC" accepted.
2023-10-25 15:03:13.910 -03:00 [DBG] Connection id "0HMULGIK4PIMC" started.
2023-10-25 15:03:13.932 -03:00 [DBG] Connection id "0HMULGIK4PIMC" received FIN.
2023-10-25 15:03:13.939 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 15:03:13.961 -03:00 [DBG] Connection id "0HMULGIK4PIMC" stopped.
2023-10-25 15:03:13.963 -03:00 [DBG] Connection id "0HMULGIK4PIMC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 15:03:14.174 -03:00 [DBG] Connection id "0HMULGIK4PIMD" accepted.
2023-10-25 15:03:14.192 -03:00 [DBG] Connection id "0HMULGIK4PIMD" started.
2023-10-25 15:03:14.293 -03:00 [DBG] Connection 0HMULGIK4PIMD established using the following protocol: "Tls12"
2023-10-25 15:03:14.348 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 15:03:14.430 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 15:03:14.555 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 15:03:14.705 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 15:03:14.721 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 15:03:14.728 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 15:03:14.731 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 386.6102ms
2023-10-25 15:03:14.731 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 10.8149ms
2023-10-25 15:03:14.765 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.1494ms
2023-10-25 15:03:14.865 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 15:03:15.044 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 179.1833ms
2023-10-25 15:03:40.391 -03:00 [DBG] Connection id "0HMULGIK4PIME" accepted.
2023-10-25 15:03:40.391 -03:00 [DBG] Connection id "0HMULGIK4PIME" received FIN.
2023-10-25 15:03:40.394 -03:00 [DBG] Connection id "0HMULGIK4PIME" started.
2023-10-25 15:03:40.394 -03:00 [DBG] Connection id "0HMULGIK4PIMF" accepted.
2023-10-25 15:03:40.397 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 15:03:40.397 -03:00 [DBG] Connection id "0HMULGIK4PIMF" started.
2023-10-25 15:03:40.400 -03:00 [DBG] Connection id "0HMULGIK4PIME" stopped.
2023-10-25 15:03:40.402 -03:00 [DBG] Connection id "0HMULGIK4PIME" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 15:03:40.406 -03:00 [DBG] Connection 0HMULGIK4PIMF established using the following protocol: "Tls12"
2023-10-25 15:03:40.413 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - -
2023-10-25 15:03:40.417 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:03:40.450 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-25 15:03:40.454 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-25 15:03:40.456 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:03:40.458 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:03:40.486 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 15:03:40.490 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:03:40.491 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:03:40.492 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:03:40.493 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:03:40.494 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:03:40.495 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:03:40.775 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 15:03:40.969 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:03:40.975 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 15:03:40.979 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 15:03:40.980 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:03:40.981 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:03:40.982 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 15:03:40.986 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 15:03:40.988 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:03:40.989 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-25 15:03:40.992 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:03:40.992 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:03:40.993 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:03:40.994 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:03:41.712 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 15:03:41.791 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-25 15:03:41.852 -03:00 [DBG] Including navigation: 'City.PointsOfInterests'.
2023-10-25 15:03:42.079 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 15:03:42.117 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 15:03:42.548 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (426ms).
2023-10-25 15:03:42.558 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:03:42.580 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:03:42.601 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 15:03:42.633 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 15:03:42.647 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:03:42.673 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:03:42.687 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:03:42.692 -03:00 [DBG] A data reader was disposed.
2023-10-25 15:03:42.694 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:03:42.698 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:03:42.712 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 15:03:42.721 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 15:03:42.723 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 15:03:42.724 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 15:03:42.725 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 15:03:42.726 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-10-25 15:03:42.837 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 2336.8418ms
2023-10-25 15:03:42.840 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:03:42.842 -03:00 [DBG] Connection id "0HMULGIK4PIMF" completed keep alive response.
2023-10-25 15:03:42.843 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 15:03:42.845 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - - - 200 126 application/json;+charset=utf-8 2431.9998ms
2023-10-25 15:03:53.114 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/2?includePointsOfInterest=true - -
2023-10-25 15:03:53.115 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:03:53.118 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-10-25 15:03:53.122 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2023-10-25 15:03:53.123 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:03:53.124 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:03:53.125 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 15:03:53.126 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:03:53.127 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:03:53.128 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:03:53.130 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:03:53.131 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:03:53.133 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:03:53.144 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:03:53.145 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 15:03:53.146 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 15:03:53.147 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:03:53.148 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:03:53.149 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 15:03:53.150 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 15:03:53.152 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:03:53.153 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-25 15:03:53.154 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:03:53.154 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:03:53.155 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:03:53.156 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:03:53.158 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 15:03:53.162 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 15:03:53.163 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 15:03:53.164 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:03:53.167 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:03:53.168 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 15:03:53.171 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 15:03:53.173 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:03:53.173 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:03:53.174 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:03:53.175 -03:00 [DBG] A data reader was disposed.
2023-10-25 15:03:53.175 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:03:53.176 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:03:53.177 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 15:03:53.179 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 15:03:53.179 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 15:03:53.180 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 15:03:53.180 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 15:03:53.181 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-10-25 15:03:53.184 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 51.9224ms
2023-10-25 15:03:53.185 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:03:53.186 -03:00 [DBG] Connection id "0HMULGIK4PIMF" completed keep alive response.
2023-10-25 15:03:53.186 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 15:03:53.187 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/2?includePointsOfInterest=true - - - 200 151 application/json;+charset=utf-8 73.5281ms
2023-10-25 15:03:58.867 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/3?includePointsOfInterest=true - -
2023-10-25 15:03:58.869 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:03:58.870 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2023-10-25 15:03:58.871 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2023-10-25 15:03:58.874 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:03:58.875 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:03:58.876 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 15:03:58.878 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:03:58.879 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:03:58.881 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:03:58.886 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:03:58.887 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:03:58.890 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:03:58.893 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:03:58.894 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 15:03:58.896 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 15:03:58.897 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:03:58.898 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:03:58.900 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 15:03:58.902 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 15:03:58.903 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:03:58.904 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-25 15:03:58.905 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:03:58.906 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:03:58.906 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:03:58.907 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:03:58.959 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 15:03:58.970 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 15:03:58.972 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-10-25 15:03:58.973 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:03:58.974 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:03:58.975 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 15:03:58.977 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 15:03:58.978 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:03:58.979 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:03:58.981 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:03:58.983 -03:00 [DBG] A data reader was disposed.
2023-10-25 15:03:58.984 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:03:58.986 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:03:58.987 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 15:03:58.989 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 15:03:58.989 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 15:03:58.990 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 15:03:58.990 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 15:03:58.991 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-10-25 15:03:58.992 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 102.5125ms
2023-10-25 15:03:58.993 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:03:58.994 -03:00 [DBG] Connection id "0HMULGIK4PIMF" completed keep alive response.
2023-10-25 15:03:58.995 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 15:03:58.996 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/3?includePointsOfInterest=true - - - 200 119 application/json;+charset=utf-8 128.8357ms
2023-10-25 15:04:04.053 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/4?includePointsOfInterest=true - -
2023-10-25 15:04:04.054 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:04:04.055 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4'
2023-10-25 15:04:04.056 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/4'
2023-10-25 15:04:04.057 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:04:04.058 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:04:04.059 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 15:04:04.060 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:04:04.062 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:04:04.063 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:04:04.065 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:04:04.067 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:04:04.068 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:04:04.068 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:04:04.069 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 15:04:04.070 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 15:04:04.071 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:04:04.073 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:04:04.073 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 15:04:04.074 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 15:04:04.075 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:04:04.075 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-25 15:04:04.076 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:04:04.077 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:04:04.078 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:04:04.079 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:04:04.080 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 15:04:04.083 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 15:04:04.084 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 15:04:04.085 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:04:04.086 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:04:04.087 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 15:04:04.088 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 15:04:04.090 -03:00 [DBG] A data reader was disposed.
2023-10-25 15:04:04.090 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:04:04.091 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:04:04.093 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 15:04:04.095 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 15:04:04.096 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-10-25 15:04:04.098 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-10-25 15:04:04.099 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-10-25 15:04:04.116 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 48.6252ms
2023-10-25 15:04:04.117 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:04:04.118 -03:00 [DBG] Connection id "0HMULGIK4PIMF" completed keep alive response.
2023-10-25 15:04:04.119 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 15:04:04.120 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/4?includePointsOfInterest=true - - - 404 161 application/problem+json;+charset=utf-8 67.5634ms
2023-10-25 15:09:22.611 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 15:09:22.824 -03:00 [DBG] Hosting starting
2023-10-25 15:09:23.112 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 15:09:23.214 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 15:09:23.216 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 15:09:23.219 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 15:09:23.221 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 15:09:23.223 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 15:09:23.225 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 15:09:23.229 -03:00 [INF] Hosting environment: Development
2023-10-25 15:09:23.230 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 15:09:23.231 -03:00 [DBG] Hosting started
2023-10-25 15:09:23.786 -03:00 [DBG] Connection id "0HMULGM2C2UCU" accepted.
2023-10-25 15:09:23.786 -03:00 [DBG] Connection id "0HMULGM2C2UCT" accepted.
2023-10-25 15:09:23.796 -03:00 [DBG] Connection id "0HMULGM2C2UCT" received FIN.
2023-10-25 15:09:23.796 -03:00 [DBG] Connection id "0HMULGM2C2UCU" received FIN.
2023-10-25 15:09:23.797 -03:00 [DBG] Connection id "0HMULGM2C2UCT" started.
2023-10-25 15:09:23.797 -03:00 [DBG] Connection id "0HMULGM2C2UCU" started.
2023-10-25 15:09:23.838 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 15:09:23.838 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 15:09:23.903 -03:00 [DBG] Connection id "0HMULGM2C2UCT" stopped.
2023-10-25 15:09:23.903 -03:00 [DBG] Connection id "0HMULGM2C2UCU" stopped.
2023-10-25 15:09:23.907 -03:00 [DBG] Connection id "0HMULGM2C2UCT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 15:09:23.907 -03:00 [DBG] Connection id "0HMULGM2C2UCU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 15:09:24.637 -03:00 [DBG] Connection id "0HMULGM2C2UCV" accepted.
2023-10-25 15:09:24.673 -03:00 [DBG] Connection id "0HMULGM2C2UCV" started.
2023-10-25 15:09:25.111 -03:00 [DBG] Connection 0HMULGM2C2UCV established using the following protocol: "Tls12"
2023-10-25 15:09:25.312 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 15:09:25.397 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 15:09:25.717 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 15:09:26.060 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 15:09:26.064 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 15:09:26.073 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 770.9936ms
2023-10-25 15:09:26.092 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 15:09:26.129 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 65.4505ms
2023-10-25 15:09:26.159 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.6551ms
2023-10-25 15:09:26.347 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 15:09:26.775 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 426.9983ms
2023-10-25 15:09:37.137 -03:00 [DBG] Connection id "0HMULGM2C2UD0" accepted.
2023-10-25 15:09:37.138 -03:00 [DBG] Connection id "0HMULGM2C2UD0" received FIN.
2023-10-25 15:09:37.139 -03:00 [DBG] Connection id "0HMULGM2C2UD0" started.
2023-10-25 15:09:37.140 -03:00 [DBG] Connection id "0HMULGM2C2UD1" accepted.
2023-10-25 15:09:37.144 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 15:09:37.144 -03:00 [DBG] Connection id "0HMULGM2C2UD1" started.
2023-10-25 15:09:37.149 -03:00 [DBG] Connection id "0HMULGM2C2UD0" stopped.
2023-10-25 15:09:37.152 -03:00 [DBG] Connection id "0HMULGM2C2UD0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 15:09:37.157 -03:00 [DBG] Connection 0HMULGM2C2UD1 established using the following protocol: "Tls12"
2023-10-25 15:09:37.180 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - -
2023-10-25 15:09:37.186 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:09:37.245 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 15:09:37.257 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 15:09:37.263 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 15:09:37.267 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 15:09:37.310 -03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 15:09:37.315 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:09:37.320 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:09:37.324 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:09:37.327 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:09:37.329 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:09:37.333 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 15:09:37.883 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 15:09:38.313 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 15:09:38.324 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 15:09:38.330 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 15:09:38.335 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 15:09:38.338 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 15:09:38.340 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 15:09:38.343 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 15:09:38.349 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 15:09:38.352 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 15:09:38.354 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 15:09:38.355 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 15:09:38.358 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 15:09:38.359 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 15:09:38.376 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-10-25 15:09:38.385 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 1042.465ms
2023-10-25 15:09:38.389 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 15:09:38.391 -03:00 [DBG] Connection id "0HMULGM2C2UD1" completed keep alive response.
2023-10-25 15:09:38.399 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - - - 200 0 - 1215.4390ms
2023-10-25 15:45:41.817 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 15:45:42.068 -03:00 [DBG] Hosting starting
2023-10-25 15:45:42.432 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 15:45:42.497 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 15:45:42.500 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 15:45:42.502 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 15:45:42.504 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 15:45:42.514 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 15:45:42.517 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 15:45:42.518 -03:00 [INF] Hosting environment: Development
2023-10-25 15:45:42.519 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 15:45:42.519 -03:00 [DBG] Hosting started
2023-10-25 15:45:42.520 -03:00 [DBG] Connection id "0HMULHABM8TB5" received FIN.
2023-10-25 15:45:42.534 -03:00 [DBG] Connection id "0HMULHABM8TB5" accepted.
2023-10-25 15:45:42.537 -03:00 [DBG] Connection id "0HMULHABM8TB5" started.
2023-10-25 15:45:42.572 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 15:45:42.636 -03:00 [DBG] Connection id "0HMULHABM8TB5" stopped.
2023-10-25 15:45:42.644 -03:00 [DBG] Connection id "0HMULHABM8TB5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 15:45:43.209 -03:00 [DBG] Connection id "0HMULHABM8TB6" accepted.
2023-10-25 15:45:43.228 -03:00 [DBG] Connection id "0HMULHABM8TB6" started.
2023-10-25 15:45:43.738 -03:00 [DBG] Connection 0HMULHABM8TB6 established using the following protocol: "Tls12"
2023-10-25 15:45:44.133 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 15:45:44.274 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 15:45:44.593 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 15:45:44.978 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 15:45:44.979 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 15:45:44.998 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 873.8669ms
2023-10-25 15:45:45.004 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 25.5050ms
2023-10-25 15:45:45.030 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 15:45:45.146 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 116.2704ms
2023-10-25 15:45:45.235 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 15:45:45.676 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 441.4645ms
2023-10-25 15:45:48.488 -03:00 [DBG] Connection id "0HMULHABM8TB6" received FIN.
2023-10-25 15:45:48.499 -03:00 [DBG] Connection id "0HMULHABM8TB6" is closed. The last processed stream ID was 7.
2023-10-25 15:45:48.502 -03:00 [DBG] Connection id "0HMULHABM8TB6" sending FIN because: "The client closed the connection."
2023-10-25 15:45:48.512 -03:00 [DBG] Connection id "0HMULHABM8TB6" stopped.
2023-10-25 15:46:13.055 -03:00 [DBG] Connection id "0HMULHABM8TB7" accepted.
2023-10-25 15:46:13.061 -03:00 [DBG] Connection id "0HMULHABM8TB7" received FIN.
2023-10-25 15:46:13.064 -03:00 [DBG] Connection id "0HMULHABM8TB7" started.
2023-10-25 15:46:13.063 -03:00 [DBG] Connection id "0HMULHABM8TB8" accepted.
2023-10-25 15:46:13.080 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 15:46:13.081 -03:00 [DBG] Connection id "0HMULHABM8TB8" started.
2023-10-25 15:46:13.086 -03:00 [DBG] Connection id "0HMULHABM8TB7" stopped.
2023-10-25 15:46:13.087 -03:00 [DBG] Connection id "0HMULHABM8TB7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 15:46:13.105 -03:00 [DBG] Connection 0HMULHABM8TB8 established using the following protocol: "Tls12"
2023-10-25 15:46:13.128 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - -
2023-10-25 15:46:13.133 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:46:13.187 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 15:46:13.194 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 15:46:13.196 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 15:46:13.200 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 15:46:13.248 -03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 15:46:13.252 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:46:13.254 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:46:13.256 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:46:13.257 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:46:13.259 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:46:13.262 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 15:46:13.906 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 15:46:14.480 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 15:46:14.494 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 15:46:14.501 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 15:46:14.508 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 15:46:14.509 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 15:46:14.510 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 15:46:14.515 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 15:46:14.519 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 15:46:14.520 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 15:46:14.522 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 15:46:14.523 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 15:46:14.525 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 15:46:14.526 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 15:46:14.537 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-10-25 15:46:14.553 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 1279.2328ms
2023-10-25 15:46:14.589 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 15:46:14.597 -03:00 [DBG] Connection id "0HMULHABM8TB8" completed keep alive response.
2023-10-25 15:46:14.605 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - - - 200 0 - 1478.6244ms
2023-10-25 15:46:18.487 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - -
2023-10-25 15:46:18.489 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:46:18.493 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 15:46:18.496 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 15:46:18.498 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 15:46:18.506 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 15:46:18.507 -03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 15:46:18.509 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:46:18.511 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:46:18.512 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:46:18.521 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:46:18.522 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:46:18.524 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 15:46:18.543 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 15:46:18.545 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 15:46:18.546 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 15:46:18.548 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 15:46:18.549 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 15:46:18.550 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 15:46:18.552 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 15:46:18.553 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 15:46:18.555 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 15:46:18.556 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 15:46:18.557 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 15:46:18.558 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 15:46:18.558 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 15:46:18.559 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-10-25 15:46:18.560 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 35.7202ms
2023-10-25 15:46:18.562 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 15:46:18.563 -03:00 [DBG] Connection id "0HMULHABM8TB8" completed keep alive response.
2023-10-25 15:46:18.565 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - - - 200 0 - 77.8159ms
2023-10-25 15:46:29.204 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities - -
2023-10-25 15:46:29.207 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:46:29.209 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-25 15:46:29.210 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-25 15:46:29.212 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 15:46:29.213 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 15:46:29.225 -03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 15:46:29.228 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:46:29.228 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:46:29.229 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:46:29.231 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:46:29.232 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:46:29.233 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:46:29.235 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:46:30.239 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 15:46:30.311 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-10-25 15:46:30.686 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-10-25 15:46:30.744 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 15:46:31.304 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (561ms).
2023-10-25 15:46:31.320 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:46:31.342 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:46:31.359 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-25 15:46:31.398 -03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-25 15:46:31.428 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:46:31.459 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:46:31.462 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:46:31.473 -03:00 [DBG] A data reader was disposed.
2023-10-25 15:46:31.483 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:46:31.492 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:46:31.524 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 15:46:31.531 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 15:46:31.532 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 15:46:31.533 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 15:46:31.536 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 15:46:31.539 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-25 15:46:31.725 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2495.696ms
2023-10-25 15:46:31.727 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 15:46:31.727 -03:00 [DBG] Connection id "0HMULHABM8TB8" completed keep alive response.
2023-10-25 15:46:31.731 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 15:46:31.737 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities - - - 200 247 application/json;+charset=utf-8 2536.0657ms
2023-10-25 15:47:13.412 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 15:47:13.573 -03:00 [DBG] Hosting starting
2023-10-25 15:47:13.785 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 15:47:13.845 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 15:47:13.858 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 15:47:13.859 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 15:47:13.860 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 15:47:13.862 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 15:47:13.864 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 15:47:13.866 -03:00 [INF] Hosting environment: Development
2023-10-25 15:47:13.869 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 15:47:13.870 -03:00 [DBG] Hosting started
2023-10-25 15:47:14.183 -03:00 [DBG] Connection id "0HMULHB70E41P" received FIN.
2023-10-25 15:47:14.195 -03:00 [DBG] Connection id "0HMULHB70E41P" accepted.
2023-10-25 15:47:14.198 -03:00 [DBG] Connection id "0HMULHB70E41P" started.
2023-10-25 15:47:14.217 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 15:47:14.266 -03:00 [DBG] Connection id "0HMULHB70E41P" stopped.
2023-10-25 15:47:14.272 -03:00 [DBG] Connection id "0HMULHB70E41P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 15:47:14.899 -03:00 [DBG] Connection id "0HMULHB70E41Q" accepted.
2023-10-25 15:47:14.916 -03:00 [DBG] Connection id "0HMULHB70E41Q" started.
2023-10-25 15:47:15.286 -03:00 [DBG] Connection 0HMULHB70E41Q established using the following protocol: "Tls12"
2023-10-25 15:47:15.422 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 15:47:15.541 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 15:47:15.745 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 15:47:15.986 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 15:47:15.994 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 591.4346ms
2023-10-25 15:47:16.006 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 15:47:16.020 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 14.1286ms
2023-10-25 15:47:16.021 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 15:47:16.108 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 86.7853ms
2023-10-25 15:47:16.186 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 15:47:16.515 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 329.7856ms
2023-10-25 15:47:23.502 -03:00 [DBG] Connection id "0HMULHB70E41Q" received FIN.
2023-10-25 15:47:23.511 -03:00 [DBG] Connection id "0HMULHB70E41Q" is closed. The last processed stream ID was 7.
2023-10-25 15:47:23.512 -03:00 [DBG] Connection id "0HMULHB70E41Q" sending FIN because: "The client closed the connection."
2023-10-25 15:47:23.517 -03:00 [DBG] Connection id "0HMULHB70E41Q" stopped.
2023-10-25 15:47:32.188 -03:00 [DBG] Connection id "0HMULHB70E41R" accepted.
2023-10-25 15:47:32.194 -03:00 [DBG] Connection id "0HMULHB70E41R" received FIN.
2023-10-25 15:47:32.194 -03:00 [DBG] Connection id "0HMULHB70E41R" started.
2023-10-25 15:47:32.196 -03:00 [DBG] Connection id "0HMULHB70E41S" accepted.
2023-10-25 15:47:32.199 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 15:47:32.201 -03:00 [DBG] Connection id "0HMULHB70E41S" started.
2023-10-25 15:47:32.203 -03:00 [DBG] Connection id "0HMULHB70E41R" stopped.
2023-10-25 15:47:32.204 -03:00 [DBG] Connection id "0HMULHB70E41R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 15:47:32.214 -03:00 [DBG] Connection 0HMULHB70E41S established using the following protocol: "Tls12"
2023-10-25 15:47:32.230 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities - -
2023-10-25 15:47:32.233 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:47:32.262 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-25 15:47:32.267 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-25 15:47:32.268 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 15:47:32.271 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 15:47:32.290 -03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 15:47:32.295 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:47:32.297 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:47:32.298 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:47:32.299 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:47:32.300 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:47:32.302 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:47:32.830 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 15:47:33.116 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:47:34.425 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 15:47:34.508 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-10-25 15:47:34.912 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-10-25 15:47:34.970 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 15:47:35.616 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (646ms).
2023-10-25 15:47:35.632 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:47:35.657 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:47:35.670 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-25 15:47:35.712 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-25 15:47:35.740 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:47:35.767 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:47:35.772 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:47:35.782 -03:00 [DBG] A data reader was disposed.
2023-10-25 15:47:35.792 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:47:35.799 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:47:35.834 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 15:47:35.839 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 15:47:35.840 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 15:47:35.841 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 15:47:35.842 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 15:47:35.843 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-25 15:47:36.007 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 3702.0526ms
2023-10-25 15:47:36.009 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 15:47:36.010 -03:00 [DBG] Connection id "0HMULHB70E41S" completed keep alive response.
2023-10-25 15:47:36.015 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 15:47:36.021 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities - - - 200 247 application/json;+charset=utf-8 3795.1032ms
2023-10-25 15:48:56.278 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities - -
2023-10-25 15:48:56.280 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:48:56.282 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-25 15:48:56.284 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-25 15:48:56.286 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 15:48:56.288 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 15:48:56.289 -03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 15:48:56.292 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:48:56.293 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:48:56.294 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:48:56.299 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:48:56.301 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:48:56.303 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:48:56.315 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:48:56.351 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 15:48:56.359 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 15:48:56.361 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 15:48:56.362 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:48:56.364 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:48:56.366 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-25 15:48:56.370 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-25 15:48:56.372 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:48:56.375 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:48:56.376 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:48:56.378 -03:00 [DBG] A data reader was disposed.
2023-10-25 15:48:56.379 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:48:56.380 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:48:56.382 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 15:48:56.387 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 15:48:56.389 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 15:48:56.390 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 15:48:56.391 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 15:48:56.393 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-25 15:48:56.395 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 92.1267ms
2023-10-25 15:48:56.397 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 15:48:56.398 -03:00 [DBG] Connection id "0HMULHB70E41S" completed keep alive response.
2023-10-25 15:48:56.399 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 15:48:56.401 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities - - - 200 247 application/json;+charset=utf-8 124.3220ms
2023-10-25 15:50:20.453 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1 - -
2023-10-25 15:50:20.456 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:50:20.458 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-25 15:50:20.459 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-25 15:50:20.460 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:50:20.460 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:50:20.473 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 15:50:20.475 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:50:20.476 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:50:20.477 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:50:20.480 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:50:20.481 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:50:20.482 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:50:20.484 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:50:20.488 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 15:50:20.489 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 15:50:20.491 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:50:20.492 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:50:20.493 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 15:50:20.494 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 15:50:20.498 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:50:20.499 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-10-25 15:50:20.500 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:50:20.501 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:50:20.502 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:50:20.502 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:50:20.503 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:50:20.553 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 15:50:20.565 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-25 15:50:20.593 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 15:50:20.609 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 15:50:20.613 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-10-25 15:50:20.617 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:50:20.618 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:50:20.623 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-25 15:50:20.630 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-25 15:50:20.633 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:50:20.634 -03:00 [DBG] A data reader was disposed.
2023-10-25 15:50:20.635 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:50:20.636 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:50:20.639 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 15:50:20.641 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 15:50:20.641 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 15:50:20.642 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 15:50:20.642 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 15:50:20.643 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-10-25 15:50:20.644 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 162.2421ms
2023-10-25 15:50:20.645 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:50:20.646 -03:00 [DBG] Connection id "0HMULHB70E41S" completed keep alive response.
2023-10-25 15:50:20.647 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 15:50:20.648 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1 - - - 200 75 application/json;+charset=utf-8 197.5107ms
2023-10-25 15:51:01.478 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - -
2023-10-25 15:51:01.484 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:51:01.485 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-25 15:51:01.487 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-25 15:51:01.487 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:51:01.488 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:51:01.489 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 15:51:01.490 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:51:01.490 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:51:01.491 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:51:01.492 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:51:01.493 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:51:01.494 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:51:01.495 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:51:01.501 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 15:51:01.502 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 15:51:01.503 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:51:01.504 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:51:01.504 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 15:51:01.505 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 15:51:01.506 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:51:01.507 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-25 15:51:01.508 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:51:01.509 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:51:01.510 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:51:01.511 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:51:01.512 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 15:51:01.520 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-25 15:51:01.538 -03:00 [DBG] Including navigation: 'City.PointsOfInterests'.
2023-10-25 15:51:01.632 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 15:51:01.637 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 15:51:01.638 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 15:51:01.639 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:51:01.640 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:51:01.641 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 15:51:01.648 -03:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 15:51:01.654 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:51:01.657 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:51:01.663 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterests'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterests'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-10-25 15:51:01.858 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 363.7687ms
2023-10-25 15:51:01.862 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:51:01.868 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterests'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCityAsync(Int32 cityId, Boolean includePointsOfInterest) in C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 24
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-25 15:51:01.923 -03:00 [DBG] Connection id "0HMULHB70E41S" completed keep alive response.
2023-10-25 15:51:01.924 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 15:51:01.925 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 446.8637ms
2023-10-25 15:52:11.614 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=false - -
2023-10-25 15:52:11.620 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:52:11.621 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-25 15:52:11.622 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-25 15:52:11.623 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:52:11.623 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:52:11.624 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 15:52:11.625 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:52:11.627 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:52:11.628 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:52:11.630 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:52:11.631 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:52:11.632 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:52:11.634 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:52:11.635 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 15:52:11.636 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 15:52:11.637 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:52:11.638 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:52:11.639 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 15:52:11.640 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 15:52:11.641 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:52:11.642 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-25 15:52:11.643 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:52:11.644 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:52:11.645 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:52:11.646 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:52:11.648 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 15:52:11.650 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 15:52:11.651 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 15:52:11.652 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:52:11.652 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:52:11.653 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-25 15:52:11.655 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-25 15:52:11.657 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 15:52:11.657 -03:00 [DBG] A data reader was disposed.
2023-10-25 15:52:11.658 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:52:11.659 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:52:11.660 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 15:52:11.661 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 15:52:11.662 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 15:52:11.663 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 15:52:11.664 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 15:52:11.665 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-10-25 15:52:11.667 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 34.7809ms
2023-10-25 15:52:11.668 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:52:11.669 -03:00 [DBG] Connection id "0HMULHB70E41S" completed keep alive response.
2023-10-25 15:52:11.670 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 15:52:11.671 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=false - - - 200 75 application/json;+charset=utf-8 57.8797ms
2023-10-25 15:52:17.181 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - -
2023-10-25 15:52:17.183 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 15:52:17.184 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-25 15:52:17.185 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-25 15:52:17.187 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:52:17.188 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:52:17.189 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 15:52:17.192 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 15:52:17.194 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 15:52:17.196 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 15:52:17.199 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 15:52:17.201 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 15:52:17.203 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:52:17.205 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 15:52:17.206 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 15:52:17.208 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 15:52:17.210 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:52:17.212 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 15:52:17.214 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 15:52:17.216 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 15:52:17.217 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:52:17.218 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-25 15:52:17.221 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:52:17.222 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:52:17.223 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 15:52:17.225 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 15:52:17.227 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 15:52:17.232 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 15:52:17.233 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 15:52:17.234 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:52:17.236 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:52:17.237 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 15:52:17.240 -03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 15:52:17.248 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 15:52:17.250 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 15:52:17.253 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterests'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterests'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-10-25 15:52:17.370 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 167.3877ms
2023-10-25 15:52:17.372 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 15:52:17.375 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterests'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCityAsync(Int32 cityId, Boolean includePointsOfInterest) in C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 24
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-25 15:52:17.398 -03:00 [DBG] Connection id "0HMULHB70E41S" completed keep alive response.
2023-10-25 15:52:17.399 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 15:52:17.400 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 219.0849ms
2023-10-25 16:00:46.959 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 16:00:47.084 -03:00 [DBG] Hosting starting
2023-10-25 16:00:47.300 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 16:00:47.399 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 16:00:47.401 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 16:00:47.403 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 16:00:47.405 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 16:00:47.407 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 16:00:47.408 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 16:00:47.411 -03:00 [INF] Hosting environment: Development
2023-10-25 16:00:47.412 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 16:00:47.413 -03:00 [DBG] Hosting started
2023-10-25 16:00:47.756 -03:00 [DBG] Connection id "0HMULHIPF8PQ1" received FIN.
2023-10-25 16:00:47.771 -03:00 [DBG] Connection id "0HMULHIPF8PQ1" accepted.
2023-10-25 16:00:47.774 -03:00 [DBG] Connection id "0HMULHIPF8PQ1" started.
2023-10-25 16:00:47.802 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:00:47.861 -03:00 [DBG] Connection id "0HMULHIPF8PQ1" stopped.
2023-10-25 16:00:47.869 -03:00 [DBG] Connection id "0HMULHIPF8PQ1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:00:48.464 -03:00 [DBG] Connection id "0HMULHIPF8PQ2" accepted.
2023-10-25 16:00:48.467 -03:00 [DBG] Connection id "0HMULHIPF8PQ2" started.
2023-10-25 16:00:48.814 -03:00 [DBG] Connection 0HMULHIPF8PQ2 established using the following protocol: "Tls12"
2023-10-25 16:00:49.077 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 16:00:49.213 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 16:00:49.577 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 16:00:49.924 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 16:00:49.931 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 16:00:49.944 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 16:00:49.979 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 53.7311ms
2023-10-25 16:00:49.982 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 947.4294ms
2023-10-25 16:00:50.032 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 101.5945ms
2023-10-25 16:00:50.130 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 16:00:50.583 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 453.3646ms
2023-10-25 16:01:00.678 -03:00 [DBG] Connection id "0HMULHIPF8PQ3" accepted.
2023-10-25 16:01:00.679 -03:00 [DBG] Connection id "0HMULHIPF8PQ3" received FIN.
2023-10-25 16:01:00.680 -03:00 [DBG] Connection id "0HMULHIPF8PQ3" started.
2023-10-25 16:01:00.680 -03:00 [DBG] Connection id "0HMULHIPF8PQ4" accepted.
2023-10-25 16:01:00.685 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:01:00.685 -03:00 [DBG] Connection id "0HMULHIPF8PQ4" started.
2023-10-25 16:01:00.689 -03:00 [DBG] Connection id "0HMULHIPF8PQ3" stopped.
2023-10-25 16:01:00.690 -03:00 [DBG] Connection id "0HMULHIPF8PQ3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:01:00.695 -03:00 [DBG] Connection 0HMULHIPF8PQ4 established using the following protocol: "Tls12"
2023-10-25 16:01:00.717 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - -
2023-10-25 16:01:00.723 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:01:00.779 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-25 16:01:00.788 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-25 16:01:00.790 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 16:01:00.793 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 16:01:00.844 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 16:01:00.851 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:01:00.853 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:01:00.855 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:01:00.858 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:01:00.859 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:01:00.863 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 16:01:01.417 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 16:01:01.930 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 16:01:01.943 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 16:01:01.947 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 16:01:01.952 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 16:01:01.955 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 16:01:01.956 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 16:01:01.958 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 16:01:01.962 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 16:01:01.964 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-25 16:01:01.967 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 16:01:01.968 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 16:01:01.969 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 16:01:01.971 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 16:01:03.447 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:01:03.593 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-25 16:01:03.794 -03:00 [DBG] Including navigation: 'City.PointsOfInterests'.
2023-10-25 16:01:04.418 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:01:04.529 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:01:05.093 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (560ms).
2023-10-25 16:01:05.116 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:01:05.151 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:01:05.170 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 16:01:05.213 -03:00 [ERR] Failed executing DbCommand (681ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 16:01:05.237 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:01:05.251 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:01:05.263 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterests'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterests'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-10-25 16:01:05.451 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 4579.9995ms
2023-10-25 16:01:05.455 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 16:01:05.457 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: PointsOfInterests'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCityAsync(Int32 cityId, Boolean includePointsOfInterest) in C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 24
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-25 16:01:05.513 -03:00 [DBG] Connection id "0HMULHIPF8PQ4" completed keep alive response.
2023-10-25 16:01:05.520 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:01:05.528 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 4811.1349ms
2023-10-25 16:03:50.974 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 16:03:51.221 -03:00 [DBG] Hosting starting
2023-10-25 16:03:51.599 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 16:03:51.692 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 16:03:51.694 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 16:03:51.696 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 16:03:51.697 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 16:03:51.698 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 16:03:51.699 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 16:03:51.701 -03:00 [INF] Hosting environment: Development
2023-10-25 16:03:51.703 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 16:03:51.704 -03:00 [DBG] Hosting started
2023-10-25 16:03:52.029 -03:00 [DBG] Connection id "0HMULHKGCJHBR" accepted.
2023-10-25 16:03:52.029 -03:00 [DBG] Connection id "0HMULHKGCJHBQ" accepted.
2023-10-25 16:03:52.033 -03:00 [DBG] Connection id "0HMULHKGCJHBQ" started.
2023-10-25 16:03:52.033 -03:00 [DBG] Connection id "0HMULHKGCJHBR" started.
2023-10-25 16:03:52.064 -03:00 [DBG] Connection id "0HMULHKGCJHBR" received FIN.
2023-10-25 16:03:52.065 -03:00 [DBG] Connection id "0HMULHKGCJHBQ" received FIN.
2023-10-25 16:03:52.094 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:03:52.094 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:03:52.158 -03:00 [DBG] Connection id "0HMULHKGCJHBR" stopped.
2023-10-25 16:03:52.158 -03:00 [DBG] Connection id "0HMULHKGCJHBQ" stopped.
2023-10-25 16:03:52.164 -03:00 [DBG] Connection id "0HMULHKGCJHBQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:03:52.164 -03:00 [DBG] Connection id "0HMULHKGCJHBR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:03:52.695 -03:00 [DBG] Connection id "0HMULHKGCJHBS" accepted.
2023-10-25 16:03:52.707 -03:00 [DBG] Connection id "0HMULHKGCJHBS" started.
2023-10-25 16:03:52.877 -03:00 [DBG] Connection 0HMULHKGCJHBS established using the following protocol: "Tls12"
2023-10-25 16:03:53.350 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 16:03:53.542 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 16:03:54.088 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 16:03:54.828 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 16:03:54.844 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 1524.1046ms
2023-10-25 16:03:54.848 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 16:03:54.865 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 17.0534ms
2023-10-25 16:03:54.918 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 16:03:55.092 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 173.9566ms
2023-10-25 16:03:55.266 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 16:03:55.604 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 337.9993ms
2023-10-25 16:04:09.210 -03:00 [DBG] Connection id "0HMULHKGCJHBT" accepted.
2023-10-25 16:04:09.212 -03:00 [DBG] Connection id "0HMULHKGCJHBT" received FIN.
2023-10-25 16:04:09.213 -03:00 [DBG] Connection id "0HMULHKGCJHBT" started.
2023-10-25 16:04:09.219 -03:00 [DBG] Connection id "0HMULHKGCJHBU" accepted.
2023-10-25 16:04:09.222 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:04:09.222 -03:00 [DBG] Connection id "0HMULHKGCJHBU" started.
2023-10-25 16:04:09.226 -03:00 [DBG] Connection id "0HMULHKGCJHBT" stopped.
2023-10-25 16:04:09.229 -03:00 [DBG] Connection id "0HMULHKGCJHBT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:04:09.235 -03:00 [DBG] Connection 0HMULHKGCJHBU established using the following protocol: "Tls12"
2023-10-25 16:04:09.259 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities - -
2023-10-25 16:04:09.266 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:04:09.319 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-10-25 16:04:09.326 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-10-25 16:04:09.330 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 16:04:09.334 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 16:04:09.369 -03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 16:04:09.373 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:04:09.376 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:04:09.380 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:04:09.384 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:04:09.386 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:04:09.388 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 16:04:09.995 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 16:04:10.446 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 16:04:11.941 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:04:12.032 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-10-25 16:04:12.601 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-10-25 16:04:12.685 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:04:13.240 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (549ms).
2023-10-25 16:04:13.265 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:04:13.295 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:04:13.319 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-25 16:04:13.367 -03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-10-25 16:04:13.413 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:04:13.459 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:04:13.463 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:04:13.477 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:04:13.493 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:04:13.505 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:04:13.551 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 16:04:13.556 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 16:04:13.557 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 16:04:13.558 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 16:04:13.559 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 16:04:13.562 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-25 16:04:13.827 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 4431.0788ms
2023-10-25 16:04:13.832 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-10-25 16:04:13.834 -03:00 [DBG] Connection id "0HMULHKGCJHBU" completed keep alive response.
2023-10-25 16:04:13.847 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:04:13.855 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities - - - 200 247 application/json;+charset=utf-8 4596.1371ms
2023-10-25 16:04:17.588 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - -
2023-10-25 16:04:17.590 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:04:17.593 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-10-25 16:04:17.595 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-10-25 16:04:17.598 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 16:04:17.599 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 16:04:17.626 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-10-25 16:04:17.631 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:04:17.634 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:04:17.637 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:04:17.641 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:04:17.646 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:04:17.648 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 16:04:17.666 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-10-25 16:04:17.685 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-25 16:04:17.689 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-25 16:04:17.693 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 16:04:17.696 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-25 16:04:17.697 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-25 16:04:17.700 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-25 16:04:17.702 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 16:04:17.705 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-10-25 16:04:17.708 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 16:04:17.709 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 16:04:17.711 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-10-25 16:04:17.713 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-10-25 16:04:17.722 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:04:17.750 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-25 16:04:17.802 -03:00 [DBG] Including navigation: 'City.PointsOfInterests'.
2023-10-25 16:04:18.048 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:04:18.074 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:04:18.078 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-10-25 16:04:18.084 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:04:18.086 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:04:18.096 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 16:04:18.108 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-10-25 16:04:18.112 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:04:18.125 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:04:18.159 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:04:18.163 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:04:18.164 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:04:18.165 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:04:18.172 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 16:04:18.174 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 16:04:18.175 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 16:04:18.176 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 16:04:18.177 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 16:04:18.179 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDTO'.
2023-10-25 16:04:18.184 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 536.2916ms
2023-10-25 16:04:18.185 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-10-25 16:04:18.187 -03:00 [DBG] Connection id "0HMULHKGCJHBU" completed keep alive response.
2023-10-25 16:04:18.188 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:04:18.189 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1?includePointsOfInterest=true - - - 200 126 application/json;+charset=utf-8 600.6124ms
2023-10-25 16:04:50.959 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest - -
2023-10-25 16:04:50.972 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:04:50.977 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-10-25 16:04:50.979 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-10-25 16:04:50.980 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-25 16:04:50.982 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-25 16:04:50.988 -03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:04:50.994 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:04:50.995 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:04:50.998 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:04:50.999 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:04:51.000 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:04:51.002 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:04:51.009 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:04:51.012 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:04:51.013 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:04:51.016 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:04:51.017 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:04:51.018 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:04:51.019 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:04:51.204 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:04:51.210 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-10-25 16:04:51.219 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:04:51.243 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:04:51.245 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 16:04:51.246 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:04:51.249 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:04:51.251 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:04:51.253 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:04:51.255 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:04:51.257 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:04:51.259 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:04:51.261 -03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-10-25 16:04:51.266 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-10-25 16:04:51.269 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:04:51.270 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 16:04:51.272 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:04:51.274 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:04:51.276 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-10-25 16:04:51.277 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-10-25 16:04:51.279 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:04:51.280 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:04:51.282 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:04:51.283 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:04:51.285 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:04:51.298 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 16:04:51.301 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 16:04:51.301 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 16:04:51.302 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 16:04:51.303 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 16:04:51.304 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-25 16:04:51.306 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 304.1444ms
2023-10-25 16:04:51.309 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-25 16:04:51.310 -03:00 [DBG] Connection id "0HMULHKGCJHBU" completed keep alive response.
2023-10-25 16:04:51.311 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:04:51.313 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest - - - 200 207 application/json;+charset=utf-8 355.1698ms
2023-10-25 16:05:00.785 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/5/pointsofinterest - -
2023-10-25 16:05:00.787 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:05:00.793 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/5/pointsofinterest'
2023-10-25 16:05:00.796 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/5/pointsofinterest'
2023-10-25 16:05:00.798 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-25 16:05:00.799 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-25 16:05:00.801 -03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:05:00.804 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:05:00.807 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:05:00.810 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:05:00.815 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:05:00.818 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:05:00.820 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:05:00.829 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:05:00.834 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:05:00.844 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:05:00.849 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:00.851 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:00.853 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:05:00.855 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:00.861 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:05:00.876 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:05:00.878 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 16:05:00.879 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:00.881 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:00.883 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:05:00.886 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:05:00.891 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:05:00.893 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:00.895 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:00.896 -03:00 [INF] City with id 5 wasn't found when accessing points of interest. 
2023-10-25 16:05:00.898 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 16:05:00.901 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 16:05:00.902 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-10-25 16:05:00.907 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-10-25 16:05:00.910 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-10-25 16:05:00.942 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 121.1684ms
2023-10-25 16:05:00.943 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-25 16:05:00.945 -03:00 [DBG] Connection id "0HMULHKGCJHBU" completed keep alive response.
2023-10-25 16:05:00.946 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:05:00.947 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/5/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 162.9067ms
2023-10-25 16:05:06.574 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest - -
2023-10-25 16:05:06.575 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:05:06.576 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-10-25 16:05:06.578 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-10-25 16:05:06.582 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-25 16:05:06.585 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-25 16:05:06.587 -03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDTO]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:05:06.593 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:05:06.595 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:05:06.597 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:05:06.599 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:05:06.603 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:05:06.606 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:05:06.609 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:05:06.612 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:05:06.613 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:05:06.615 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:06.617 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:06.618 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:05:06.620 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:06.624 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:05:06.628 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:05:06.634 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-10-25 16:05:06.637 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:06.647 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:06.649 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:05:06.652 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:05:06.658 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:05:06.661 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:06.662 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:06.664 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:05:06.665 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 16:05:06.666 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:06.667 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:06.669 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-10-25 16:05:06.670 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-10-25 16:05:06.677 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:05:06.679 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:05:06.680 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:05:06.680 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:06.682 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:06.683 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 16:05:06.688 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 16:05:06.692 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 16:05:06.694 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 16:05:06.695 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 16:05:06.697 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-25 16:05:06.699 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 92.8269ms
2023-10-25 16:05:06.700 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-10-25 16:05:06.701 -03:00 [DBG] Connection id "0HMULHKGCJHBU" completed keep alive response.
2023-10-25 16:05:06.702 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:05:06.703 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest - - - 200 207 application/json;+charset=utf-8 128.8765ms
2023-10-25 16:05:16.153 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - -
2023-10-25 16:05:16.156 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:05:16.158 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:05:16.159 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:05:16.163 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:05:16.165 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:05:16.179 -03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:05:16.182 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:05:16.184 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:05:16.189 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:05:16.194 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:05:16.196 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:05:16.200 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:05:16.203 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:05:16.206 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:05:16.211 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:05:16.214 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:16.215 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:16.217 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:05:16.219 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:16.224 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:05:16.227 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:05:16.230 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:05:16.232 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:05:16.234 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:05:16.235 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:05:16.243 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:05:16.249 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:05:16.251 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 16:05:16.252 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:16.257 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:16.259 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:05:16.263 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:05:16.266 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:05:16.268 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:16.272 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:16.282 -03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-10-25 16:05:16.293 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:05:16.303 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:05:16.310 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2023-10-25 16:05:16.317 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:16.319 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:16.332 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:05:16.335 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:05:16.340 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:05:16.344 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:05:16.347 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:16.349 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:16.502 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 302.5037ms
2023-10-25 16:05:16.507 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:05:16.511 -03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> IEnumerable`1
System.Object -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method155(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointOfInterestId) in C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 60
   at lambda_method148(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-25 16:05:16.561 -03:00 [DBG] Connection id "0HMULHKGCJHBU" completed keep alive response.
2023-10-25 16:05:16.563 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:05:16.565 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 412.2673ms
2023-10-25 16:05:33.918 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/2/pointsofinterest/1 - -
2023-10-25 16:05:33.920 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:05:33.923 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest/1'
2023-10-25 16:05:33.925 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/2/pointsofinterest/1'
2023-10-25 16:05:33.926 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:05:33.928 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:05:33.929 -03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:05:33.930 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:05:33.931 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:05:33.932 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:05:33.933 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:05:33.934 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:05:33.937 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:05:33.939 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:05:33.940 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:05:33.941 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:05:33.942 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:33.943 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:33.944 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:05:33.945 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:33.947 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:05:33.948 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:05:33.949 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:05:33.951 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:05:33.953 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:05:33.955 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:05:33.956 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:05:33.958 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:05:33.959 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 16:05:33.960 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:33.961 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:33.962 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:05:33.963 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:05:33.965 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:05:33.965 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:33.966 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:33.969 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:05:33.970 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 16:05:33.971 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:33.972 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:33.973 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:05:33.974 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:05:33.976 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:05:33.977 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:33.977 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:33.979 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 16:05:33.981 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 16:05:33.982 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 16:05:33.982 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 16:05:33.983 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 16:05:33.985 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-25 16:05:33.987 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 50.574ms
2023-10-25 16:05:33.988 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:05:33.989 -03:00 [DBG] Connection id "0HMULHKGCJHBU" completed keep alive response.
2023-10-25 16:05:33.990 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:05:33.991 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/2/pointsofinterest/1 - - - 200 2 application/json;+charset=utf-8 72.9960ms
2023-10-25 16:05:45.018 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/2/pointsofinterest/2 - -
2023-10-25 16:05:45.021 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:05:45.023 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest/2'
2023-10-25 16:05:45.025 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/2/pointsofinterest/2'
2023-10-25 16:05:45.027 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:05:45.029 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:05:45.030 -03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:05:45.033 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:05:45.037 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:05:45.039 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:05:45.040 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:05:45.041 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:05:45.043 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:05:45.044 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:05:45.045 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:05:45.046 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:05:45.047 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:45.049 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:45.050 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:05:45.055 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:45.058 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:05:45.060 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:05:45.062 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:05:45.063 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:05:45.065 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:05:45.066 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:05:45.070 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:05:45.072 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:05:45.074 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 16:05:45.075 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:45.077 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:45.078 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:05:45.080 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:05:45.082 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:05:45.082 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:45.086 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:45.088 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:05:45.089 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 16:05:45.090 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:45.091 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:45.093 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:05:45.095 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:05:45.097 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:05:45.097 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:45.099 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:45.100 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 16:05:45.104 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 16:05:45.105 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 16:05:45.105 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 16:05:45.106 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 16:05:45.107 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-10-25 16:05:45.108 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 64.8283ms
2023-10-25 16:05:45.109 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:05:45.110 -03:00 [DBG] Connection id "0HMULHKGCJHBU" completed keep alive response.
2023-10-25 16:05:45.111 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:05:45.112 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/2/pointsofinterest/2 - - - 200 2 application/json;+charset=utf-8 93.9546ms
2023-10-25 16:05:51.716 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/2 - -
2023-10-25 16:05:51.724 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:05:51.725 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2023-10-25 16:05:51.726 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2023-10-25 16:05:51.729 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:05:51.730 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:05:51.731 -03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:05:51.738 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:05:51.740 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:05:51.742 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:05:51.744 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:05:51.745 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:05:51.746 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:05:51.747 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:05:51.748 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:05:51.750 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:05:51.752 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:51.754 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:51.755 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:05:51.756 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:05:51.757 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:05:51.758 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:05:51.759 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:05:51.760 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:05:51.761 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:05:51.762 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:05:51.763 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:05:51.765 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:05:51.766 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 16:05:51.767 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:51.769 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:51.770 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:05:51.772 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:05:51.773 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:05:51.774 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:51.774 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:51.776 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:05:51.776 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 16:05:51.777 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:51.778 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:51.779 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:05:51.782 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:05:51.785 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:05:51.786 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:05:51.787 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:05:51.788 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:05:51.837 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 91.4557ms
2023-10-25 16:05:51.841 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:05:51.843 -03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> IEnumerable`1
System.Object -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method155(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointOfInterestId) in C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 60
   at lambda_method148(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-25 16:05:51.853 -03:00 [DBG] Connection id "0HMULHKGCJHBU" completed keep alive response.
2023-10-25 16:05:51.854 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:05:51.855 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/2 - - - 500 - text/plain;+charset=utf-8 138.8711ms
2023-10-25 16:24:41.640 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 16:24:41.936 -03:00 [DBG] Hosting starting
2023-10-25 16:24:42.270 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 16:24:42.366 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 16:24:42.368 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 16:24:42.369 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 16:24:42.370 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 16:24:42.372 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 16:24:42.373 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 16:24:42.375 -03:00 [INF] Hosting environment: Development
2023-10-25 16:24:42.376 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 16:24:42.377 -03:00 [DBG] Hosting started
2023-10-25 16:24:42.488 -03:00 [DBG] Connection id "0HMULI051UBGR" received FIN.
2023-10-25 16:24:42.508 -03:00 [DBG] Connection id "0HMULI051UBGR" accepted.
2023-10-25 16:24:42.512 -03:00 [DBG] Connection id "0HMULI051UBGR" started.
2023-10-25 16:24:42.552 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:24:42.639 -03:00 [DBG] Connection id "0HMULI051UBGR" stopped.
2023-10-25 16:24:42.653 -03:00 [DBG] Connection id "0HMULI051UBGR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:24:43.371 -03:00 [DBG] Connection id "0HMULI051UBGS" accepted.
2023-10-25 16:24:43.388 -03:00 [DBG] Connection id "0HMULI051UBGS" started.
2023-10-25 16:24:44.260 -03:00 [DBG] Connection 0HMULI051UBGS established using the following protocol: "Tls12"
2023-10-25 16:24:45.044 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 16:24:45.274 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 16:24:45.607 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 16:24:46.289 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 16:24:46.303 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 1290.6422ms
2023-10-25 16:24:46.324 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 16:24:46.342 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 17.7321ms
2023-10-25 16:24:46.359 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 16:24:46.460 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 103.1460ms
2023-10-25 16:24:46.818 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 16:24:47.255 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 437.5020ms
2023-10-25 16:25:24.045 -03:00 [DBG] Connection id "0HMULI051UBGT" accepted.
2023-10-25 16:25:24.052 -03:00 [DBG] Connection id "0HMULI051UBGT" received FIN.
2023-10-25 16:25:24.056 -03:00 [DBG] Connection id "0HMULI051UBGT" started.
2023-10-25 16:25:24.065 -03:00 [DBG] Connection id "0HMULI051UBGU" accepted.
2023-10-25 16:25:24.074 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:25:24.075 -03:00 [DBG] Connection id "0HMULI051UBGU" started.
2023-10-25 16:25:24.078 -03:00 [DBG] Connection id "0HMULI051UBGT" stopped.
2023-10-25 16:25:24.079 -03:00 [DBG] Connection id "0HMULI051UBGT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:25:24.086 -03:00 [DBG] Connection 0HMULI051UBGU established using the following protocol: "Tls12"
2023-10-25 16:25:24.101 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7103/api/cities/3/pointsofinterest application/json 117
2023-10-25 16:25:24.105 -03:00 [DBG] POST requests are not supported
2023-10-25 16:25:24.154 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-10-25 16:25:24.165 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-10-25 16:25:24.169 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-10-25 16:25:24.172 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-10-25 16:25:24.233 -03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDTO) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:25:24.239 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:25:24.242 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:25:24.243 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:25:24.245 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:25:24.246 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:25:24.248 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:25:24.788 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 16:25:25.176 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:25:25.187 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:25:25.191 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:25:25.193 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:25:25.194 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:25:25.195 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:25:25.198 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:25:25.202 -03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO' ...
2023-10-25 16:25:25.205 -03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO' using the name '' in request data ...
2023-10-25 16:25:25.208 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-25 16:25:25.210 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-25 16:25:25.223 -03:00 [DBG] Connection id "0HMULI051UBGU", Request id "0HMULI051UBGU:00000002": started reading request body.
2023-10-25 16:25:25.226 -03:00 [DBG] Connection id "0HMULI051UBGU", Request id "0HMULI051UBGU:00000002": done reading request body.
2023-10-25 16:25:25.438 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO'.
2023-10-25 16:25:25.439 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO'.
2023-10-25 16:25:25.440 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO' ...
2023-10-25 16:25:25.452 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDTO'.
2023-10-25 16:25:27.057 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:25:27.160 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-10-25 16:25:27.657 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:25:27.777 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:25:28.283 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (501ms).
2023-10-25 16:25:28.311 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:25:28.345 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:25:28.379 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:25:28.445 -03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:25:28.473 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:25:28.488 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:25:28.500 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:25:28.529 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-10-25 16:25:28.607 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:25:28.631 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:25:28.633 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-10-25 16:25:28.635 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:25:28.636 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:25:28.637 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-25 16:25:28.638 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-10-25 16:25:28.667 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:25:28.721 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:25:28.723 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:25:28.725 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:25:28.739 -03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-10-25 16:25:28.745 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-10-25 16:25:28.793 -03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterests'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:25:28.860 -03:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:25:28.908 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:25:28.917 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-10-25 16:25:28.957 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:25:28.959 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:25:28.967 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-25 16:25:28.978 -03:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-10-25 16:25:29.077 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:25:29.080 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-10-25 16:25:29.083 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-10-25 16:25:29.087 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-10-25 16:25:29.127 -03:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-10-25 16:25:29.139 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:25:29.154 -03:00 [DBG] Committing transaction.
2023-10-25 16:25:29.163 -03:00 [DBG] Committed transaction.
2023-10-25 16:25:29.172 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:25:29.174 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:25:29.183 -03:00 [DBG] Disposing transaction.
2023-10-25 16:25:29.201 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:25:29.207 -03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-10-25 16:25:29.212 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 16:25:29.217 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 16:25:29.219 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 16:25:29.220 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 16:25:29.221 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 16:25:29.222 -03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDTO'.
2023-10-25 16:25:29.245 -03:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-10-25 16:25:29.262 -03:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/7 and 
2023-10-25 16:25:29.267 -03:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/7
2023-10-25 16:25:29.335 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 5079.6578ms
2023-10-25 16:25:29.339 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-10-25 16:25:29.341 -03:00 [DBG] Connection id "0HMULI051UBGU" completed keep alive response.
2023-10-25 16:25:29.349 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:25:29.357 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7103/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 5257.1305ms
2023-10-25 16:25:44.096 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/3/pointsofinterest/7 - -
2023-10-25 16:25:44.098 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:25:44.099 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/7'
2023-10-25 16:25:44.100 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/3/pointsofinterest/7'
2023-10-25 16:25:44.103 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:25:44.104 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:25:44.109 -03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:25:44.112 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:25:44.113 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:25:44.114 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:25:44.116 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:25:44.117 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:25:44.119 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:25:44.133 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:25:44.142 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:25:44.144 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:25:44.145 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:25:44.148 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:25:44.149 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:25:44.151 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:25:44.152 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:25:44.153 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:25:44.154 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:25:44.155 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:25:44.157 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:25:44.158 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:25:44.175 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:25:44.187 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:25:44.190 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-10-25 16:25:44.191 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:25:44.192 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:25:44.195 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:25:44.197 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:25:44.200 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:25:44.200 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:25:44.201 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:25:44.205 -03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-10-25 16:25:44.211 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:25:44.215 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:25:44.215 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 16:25:44.216 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:25:44.217 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:25:44.218 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:25:44.220 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:25:44.222 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:25:44.224 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:25:44.224 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:25:44.226 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:25:44.348 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 229.111ms
2023-10-25 16:25:44.352 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:25:44.355 -03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> IEnumerable`1
System.Object -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method133(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointOfInterestId) in C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 61
   at lambda_method126(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-25 16:25:44.409 -03:00 [DBG] Connection id "0HMULI051UBGU" completed keep alive response.
2023-10-25 16:25:44.412 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:25:44.414 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/3/pointsofinterest/7 - - - 500 - text/plain;+charset=utf-8 318.0029ms
2023-10-25 16:35:56.552 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 16:35:56.775 -03:00 [DBG] Hosting starting
2023-10-25 16:35:57.083 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 16:35:57.168 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 16:35:57.172 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 16:35:57.173 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 16:35:57.176 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 16:35:57.177 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 16:35:57.178 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 16:35:57.180 -03:00 [INF] Hosting environment: Development
2023-10-25 16:35:57.181 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 16:35:57.182 -03:00 [DBG] Hosting started
2023-10-25 16:35:57.476 -03:00 [DBG] Connection id "0HMULI6E72RUD" received FIN.
2023-10-25 16:35:57.477 -03:00 [DBG] Connection id "0HMULI6E72RUD" accepted.
2023-10-25 16:35:57.481 -03:00 [DBG] Connection id "0HMULI6E72RUD" started.
2023-10-25 16:35:57.511 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:35:57.576 -03:00 [DBG] Connection id "0HMULI6E72RUD" stopped.
2023-10-25 16:35:57.584 -03:00 [DBG] Connection id "0HMULI6E72RUD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:35:58.318 -03:00 [DBG] Connection id "0HMULI6E72RUE" accepted.
2023-10-25 16:35:58.364 -03:00 [DBG] Connection id "0HMULI6E72RUE" started.
2023-10-25 16:35:58.890 -03:00 [DBG] Connection 0HMULI6E72RUE established using the following protocol: "Tls12"
2023-10-25 16:35:59.179 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 16:36:00.136 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 16:36:00.509 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 16:36:00.879 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 16:36:00.880 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 16:36:00.890 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 1721.6315ms
2023-10-25 16:36:00.895 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 15.6464ms
2023-10-25 16:36:00.985 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 16:36:01.125 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 139.6004ms
2023-10-25 16:36:02.077 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 16:36:02.475 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 396.7405ms
2023-10-25 16:36:31.811 -03:00 [DBG] Connection id "0HMULI6E72RUF" accepted.
2023-10-25 16:36:31.817 -03:00 [DBG] Connection id "0HMULI6E72RUF" received FIN.
2023-10-25 16:36:31.818 -03:00 [DBG] Connection id "0HMULI6E72RUF" started.
2023-10-25 16:36:31.818 -03:00 [DBG] Connection id "0HMULI6E72RUG" accepted.
2023-10-25 16:36:31.830 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:36:31.830 -03:00 [DBG] Connection id "0HMULI6E72RUG" started.
2023-10-25 16:36:31.835 -03:00 [DBG] Connection id "0HMULI6E72RUF" stopped.
2023-10-25 16:36:31.838 -03:00 [DBG] Connection id "0HMULI6E72RUF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:36:31.851 -03:00 [DBG] Connection 0HMULI6E72RUG established using the following protocol: "Tls12"
2023-10-25 16:36:31.865 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7103/api/cities/1/pointsofinterest/1 application/json 123
2023-10-25 16:36:31.869 -03:00 [DBG] PUT requests are not supported
2023-10-25 16:36:31.928 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:36:31.935 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:36:31.941 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-10-25 16:36:31.944 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-10-25 16:36:31.989 -03:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDTO) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:36:31.993 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:36:31.994 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:36:31.996 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:36:31.999 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:36:32.002 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:36:32.008 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:36:32.542 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 16:36:32.945 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:36:32.958 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:36:32.962 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:36:32.967 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:36:32.968 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:36:32.970 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:36:32.975 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:36:32.982 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:36:32.983 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:36:32.985 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:36:32.986 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:36:32.990 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:36:32.993 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:36:32.994 -03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDTO' ...
2023-10-25 16:36:32.997 -03:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDTO' using the name '' in request data ...
2023-10-25 16:36:33.000 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-25 16:36:33.002 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-25 16:36:33.023 -03:00 [DBG] Connection id "0HMULI6E72RUG", Request id "0HMULI6E72RUG:00000002": started reading request body.
2023-10-25 16:36:33.026 -03:00 [DBG] Connection id "0HMULI6E72RUG", Request id "0HMULI6E72RUG:00000002": done reading request body.
2023-10-25 16:36:33.265 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDTO'.
2023-10-25 16:36:33.267 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDTO'.
2023-10-25 16:36:33.269 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDTO' ...
2023-10-25 16:36:33.279 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDTO'.
2023-10-25 16:36:35.031 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:36:35.153 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-10-25 16:36:35.831 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:36:35.940 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:36:36.466 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (518ms).
2023-10-25 16:36:36.491 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:36:36.525 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:36:36.559 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:36:36.647 -03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:36:36.683 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:36:36.694 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:36:36.708 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:36:36.719 -03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-10-25 16:36:36.804 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:36:36.845 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:36:36.847 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-10-25 16:36:36.851 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:36:36.853 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:36:36.855 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:36:36.857 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:36:36.895 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:36:36.933 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:36:36.934 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:36:36.936 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:36:36.966 -03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-10-25 16:36:36.970 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-10-25 16:36:36.997 -03:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-10-25 16:36:37.019 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:36:37.021 -03:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-10-25 16:36:37.026 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-10-25 16:36:37.067 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:36:37.069 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:36:37.074 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-10-25 16:36:37.088 -03:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-10-25 16:36:37.185 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:36:37.187 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 16:36:37.193 -03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2023-10-25 16:36:37.204 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2023-10-25 16:36:37.220 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:36:37.239 -03:00 [DBG] Committing transaction.
2023-10-25 16:36:37.246 -03:00 [DBG] Committed transaction.
2023-10-25 16:36:37.262 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:36:37.264 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:36:37.275 -03:00 [DBG] Disposing transaction.
2023-10-25 16:36:37.292 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:36:37.299 -03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-10-25 16:36:37.306 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-10-25 16:36:37.317 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 5290.0939ms
2023-10-25 16:36:37.319 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-10-25 16:36:37.321 -03:00 [DBG] Connection id "0HMULI6E72RUG" completed keep alive response.
2023-10-25 16:36:37.327 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:36:37.336 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7103/api/cities/1/pointsofinterest/1 application/json 123 - 204 - - 5459.3412ms
2023-10-25 16:36:46.947 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - -
2023-10-25 16:36:46.949 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:36:46.952 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:36:46.953 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:36:46.956 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:36:46.959 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:36:46.964 -03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:36:46.966 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:36:46.968 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:36:46.970 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:36:46.972 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:36:46.974 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:36:46.975 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:36:46.989 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:36:46.997 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:36:46.999 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:36:47.000 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:36:47.001 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:36:47.002 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:36:47.004 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:36:47.006 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:36:47.008 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:36:47.010 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:36:47.011 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:36:47.013 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:36:47.016 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:36:47.030 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:36:47.038 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:36:47.039 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 16:36:47.040 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:36:47.041 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:36:47.042 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:36:47.043 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:36:47.045 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:36:47.046 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:36:47.047 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:36:47.049 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:36:47.049 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 16:36:47.051 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:36:47.052 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:36:47.055 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:36:47.057 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:36:47.060 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:36:47.061 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:36:47.062 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:36:47.063 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:36:47.201 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 225.2981ms
2023-10-25 16:36:47.205 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:36:47.209 -03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> IEnumerable`1
System.Object -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method84(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointOfInterestId) in C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 61
   at lambda_method79(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-25 16:36:47.287 -03:00 [DBG] Connection id "0HMULI6E72RUG" completed keep alive response.
2023-10-25 16:36:47.291 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:36:47.292 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 344.4168ms
2023-10-25 16:43:28.073 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 16:43:28.407 -03:00 [DBG] Hosting starting
2023-10-25 16:43:28.796 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 16:43:28.875 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 16:43:28.878 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 16:43:28.879 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 16:43:28.880 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 16:43:28.881 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 16:43:28.883 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 16:43:28.885 -03:00 [INF] Hosting environment: Development
2023-10-25 16:43:28.886 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 16:43:28.888 -03:00 [DBG] Hosting started
2023-10-25 16:43:29.092 -03:00 [DBG] Connection id "0HMULIAKQ2L5U" received FIN.
2023-10-25 16:43:29.096 -03:00 [DBG] Connection id "0HMULIAKQ2L5T" received FIN.
2023-10-25 16:43:29.098 -03:00 [DBG] Connection id "0HMULIAKQ2L5U" accepted.
2023-10-25 16:43:29.098 -03:00 [DBG] Connection id "0HMULIAKQ2L5T" accepted.
2023-10-25 16:43:29.100 -03:00 [DBG] Connection id "0HMULIAKQ2L5U" started.
2023-10-25 16:43:29.100 -03:00 [DBG] Connection id "0HMULIAKQ2L5T" started.
2023-10-25 16:43:29.135 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:43:29.135 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:43:29.207 -03:00 [DBG] Connection id "0HMULIAKQ2L5U" stopped.
2023-10-25 16:43:29.207 -03:00 [DBG] Connection id "0HMULIAKQ2L5T" stopped.
2023-10-25 16:43:29.212 -03:00 [DBG] Connection id "0HMULIAKQ2L5U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:43:29.212 -03:00 [DBG] Connection id "0HMULIAKQ2L5T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:43:30.024 -03:00 [DBG] Connection id "0HMULIAKQ2L5V" accepted.
2023-10-25 16:43:30.043 -03:00 [DBG] Connection id "0HMULIAKQ2L5V" started.
2023-10-25 16:43:30.322 -03:00 [DBG] Connection 0HMULIAKQ2L5V established using the following protocol: "Tls12"
2023-10-25 16:43:30.452 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 16:43:30.559 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 16:43:30.875 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 16:43:31.277 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 16:43:31.287 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 16:43:31.301 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 858.4337ms
2023-10-25 16:43:31.301 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 23.0121ms
2023-10-25 16:43:31.303 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 16:43:31.454 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 152.0450ms
2023-10-25 16:43:31.590 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 16:43:31.954 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 364.5582ms
2023-10-25 16:43:38.240 -03:00 [DBG] Connection id "0HMULIAKQ2L60" accepted.
2023-10-25 16:43:38.243 -03:00 [DBG] Connection id "0HMULIAKQ2L60" started.
2023-10-25 16:43:38.257 -03:00 [DBG] Connection id "0HMULIAKQ2L60" received FIN.
2023-10-25 16:43:38.257 -03:00 [DBG] Connection id "0HMULIAKQ2L61" accepted.
2023-10-25 16:43:38.261 -03:00 [DBG] Connection id "0HMULIAKQ2L61" started.
2023-10-25 16:43:38.261 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:43:38.269 -03:00 [DBG] Connection id "0HMULIAKQ2L60" stopped.
2023-10-25 16:43:38.270 -03:00 [DBG] Connection 0HMULIAKQ2L61 established using the following protocol: "Tls12"
2023-10-25 16:43:38.273 -03:00 [DBG] Connection id "0HMULIAKQ2L60" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:43:38.293 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7103/api/cities/1/pointsofinterest/1 - -
2023-10-25 16:43:38.298 -03:00 [DBG] DELETE requests are not supported
2023-10-25 16:43:38.353 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:43:38.361 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:43:38.364 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-10-25 16:43:38.369 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-10-25 16:43:38.440 -03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:43:38.444 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:43:38.446 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:43:38.448 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:43:38.450 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:43:38.453 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:43:38.458 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:43:38.802 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 16:43:39.299 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:43:39.309 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:43:39.312 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:43:39.314 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:43:39.317 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:43:39.318 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:43:39.324 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:43:39.326 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:43:39.328 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:43:39.329 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:43:39.331 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:43:39.333 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:43:39.335 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:43:40.820 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:43:40.918 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-10-25 16:43:41.408 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:43:41.551 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:43:41.685 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (128ms).
2023-10-25 16:43:41.722 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:43:41.769 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:43:41.801 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:43:41.856 -03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:43:41.872 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:43:41.887 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:43:41.897 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:43:41.902 -03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-10-25 16:43:41.988 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:43:42.024 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:43:42.027 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-10-25 16:43:42.029 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:43:42.030 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:43:42.033 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:43:42.038 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:43:42.066 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:43:42.124 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:43:42.126 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:43:42.128 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:43:42.149 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:43:42.164 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-10-25 16:43:42.173 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 3710.7505ms
2023-10-25 16:43:42.177 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-10-25 16:43:42.181 -03:00 [DBG] Connection id "0HMULIAKQ2L61" completed keep alive response.
2023-10-25 16:43:42.191 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:43:42.202 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7103/api/cities/1/pointsofinterest/1 - - - 204 - - 3910.7471ms
2023-10-25 16:43:45.911 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - -
2023-10-25 16:43:45.913 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:43:45.914 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:43:45.915 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:43:45.917 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:43:45.918 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:43:45.923 -03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:43:45.925 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:43:45.926 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:43:45.927 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:43:45.930 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:43:45.931 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:43:45.932 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:43:45.944 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:43:45.947 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:43:45.948 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:43:45.949 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:43:45.951 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:43:45.952 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:43:45.954 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:43:45.956 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:43:45.957 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:43:45.958 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:43:45.959 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:43:45.960 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:43:45.961 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:43:45.967 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:43:45.975 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:43:45.977 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-10-25 16:43:45.978 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:43:45.979 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:43:45.980 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:43:45.981 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:43:45.983 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:43:45.985 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:43:45.987 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:43:45.988 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:43:45.989 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 16:43:45.990 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:43:45.991 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:43:45.992 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:43:45.993 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:43:45.995 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:43:45.996 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:43:45.996 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:43:45.997 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:43:46.137 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 205.1441ms
2023-10-25 16:43:46.142 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:43:46.145 -03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> IEnumerable`1
System.Object -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method67(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointOfInterestId) in C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 61
   at lambda_method62(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-25 16:43:46.202 -03:00 [DBG] Connection id "0HMULIAKQ2L61" completed keep alive response.
2023-10-25 16:43:46.204 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:43:46.205 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 294.1182ms
2023-10-25 16:44:42.725 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 16:44:42.810 -03:00 [DBG] Hosting starting
2023-10-25 16:44:42.896 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 16:44:42.942 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 16:44:42.944 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 16:44:42.945 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 16:44:42.946 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 16:44:42.947 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 16:44:42.947 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 16:44:42.948 -03:00 [INF] Hosting environment: Development
2023-10-25 16:44:42.949 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 16:44:42.949 -03:00 [DBG] Hosting started
2023-10-25 16:44:43.222 -03:00 [DBG] Connection id "0HMULIBAT0RV6" accepted.
2023-10-25 16:44:43.223 -03:00 [DBG] Connection id "0HMULIBAT0RV6" started.
2023-10-25 16:44:43.230 -03:00 [DBG] Connection id "0HMULIBAT0RV7" accepted.
2023-10-25 16:44:43.231 -03:00 [DBG] Connection id "0HMULIBAT0RV7" started.
2023-10-25 16:44:43.263 -03:00 [DBG] Connection id "0HMULIBAT0RV6" received FIN.
2023-10-25 16:44:43.263 -03:00 [DBG] Connection id "0HMULIBAT0RV7" received FIN.
2023-10-25 16:44:43.273 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:44:43.273 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:44:43.300 -03:00 [DBG] Connection id "0HMULIBAT0RV7" stopped.
2023-10-25 16:44:43.300 -03:00 [DBG] Connection id "0HMULIBAT0RV6" stopped.
2023-10-25 16:44:43.302 -03:00 [DBG] Connection id "0HMULIBAT0RV7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:44:43.302 -03:00 [DBG] Connection id "0HMULIBAT0RV6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:44:43.647 -03:00 [DBG] Connection id "0HMULIBAT0RV8" accepted.
2023-10-25 16:44:43.735 -03:00 [DBG] Connection id "0HMULIBAT0RV8" started.
2023-10-25 16:44:43.860 -03:00 [DBG] Connection 0HMULIBAT0RV8 established using the following protocol: "Tls12"
2023-10-25 16:44:43.946 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 16:44:43.988 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 16:44:44.116 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 16:44:44.233 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 16:44:44.247 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 16:44:44.249 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 312.0518ms
2023-10-25 16:44:44.262 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 14.8816ms
2023-10-25 16:44:44.281 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 16:44:44.346 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.2434ms
2023-10-25 16:44:44.499 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 16:44:44.699 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 200.1706ms
2023-10-25 16:44:55.807 -03:00 [DBG] Connection id "0HMULIBAT0RV9" accepted.
2023-10-25 16:44:55.807 -03:00 [DBG] Connection id "0HMULIBAT0RV9" received FIN.
2023-10-25 16:44:55.808 -03:00 [DBG] Connection id "0HMULIBAT0RV9" started.
2023-10-25 16:44:55.809 -03:00 [DBG] Connection id "0HMULIBAT0RVA" accepted.
2023-10-25 16:44:55.811 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:44:55.812 -03:00 [DBG] Connection id "0HMULIBAT0RVA" started.
2023-10-25 16:44:55.815 -03:00 [DBG] Connection id "0HMULIBAT0RV9" stopped.
2023-10-25 16:44:55.817 -03:00 [DBG] Connection id "0HMULIBAT0RV9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:44:55.823 -03:00 [DBG] Connection 0HMULIBAT0RVA established using the following protocol: "Tls12"
2023-10-25 16:44:55.836 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7103/api/cities/1/pointsofinterest/1 - -
2023-10-25 16:44:55.840 -03:00 [DBG] DELETE requests are not supported
2023-10-25 16:44:55.879 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:44:55.886 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:44:55.888 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-10-25 16:44:55.892 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-10-25 16:44:55.938 -03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:44:55.943 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:44:55.944 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:44:55.945 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:44:55.947 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:44:55.948 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:44:55.951 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:44:56.141 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 16:44:56.497 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:44:56.505 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:44:56.509 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:44:56.513 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:44:56.515 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:44:56.515 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:44:56.519 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:44:56.521 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:44:56.522 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:44:56.523 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:44:56.525 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:44:56.526 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:44:56.528 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:44:57.664 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:44:57.720 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-10-25 16:44:57.992 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:44:58.053 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:44:58.119 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (63ms).
2023-10-25 16:44:58.127 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:44:58.156 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:44:58.177 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:44:58.221 -03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:44:58.232 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:44:58.237 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:44:58.244 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:44:58.247 -03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-10-25 16:44:58.281 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:44:58.296 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:44:58.300 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-10-25 16:44:58.302 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:44:58.305 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:44:58.306 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:44:58.307 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:44:58.327 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:44:58.367 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:44:58.370 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:44:58.371 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:44:58.396 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:44:58.409 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-10-25 16:44:58.417 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 2461.4898ms
2023-10-25 16:44:58.419 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-10-25 16:44:58.422 -03:00 [DBG] Connection id "0HMULIBAT0RVA" completed keep alive response.
2023-10-25 16:44:58.425 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:44:58.428 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7103/api/cities/1/pointsofinterest/1 - - - 204 - - 2593.5248ms
2023-10-25 16:46:06.636 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 16:46:06.755 -03:00 [DBG] Hosting starting
2023-10-25 16:46:06.910 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 16:46:06.965 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 16:46:06.966 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 16:46:06.968 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 16:46:06.969 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 16:46:06.970 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 16:46:06.972 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 16:46:06.973 -03:00 [INF] Hosting environment: Development
2023-10-25 16:46:06.974 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 16:46:06.976 -03:00 [DBG] Hosting started
2023-10-25 16:46:06.991 -03:00 [DBG] Connection id "0HMULIC3RS3LS" accepted.
2023-10-25 16:46:06.994 -03:00 [DBG] Connection id "0HMULIC3RS3LS" started.
2023-10-25 16:46:07.021 -03:00 [DBG] Connection id "0HMULIC3RS3LS" received FIN.
2023-10-25 16:46:07.040 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:46:07.106 -03:00 [DBG] Connection id "0HMULIC3RS3LS" stopped.
2023-10-25 16:46:07.112 -03:00 [DBG] Connection id "0HMULIC3RS3LS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:46:07.799 -03:00 [DBG] Connection id "0HMULIC3RS3LT" accepted.
2023-10-25 16:46:07.812 -03:00 [DBG] Connection id "0HMULIC3RS3LT" started.
2023-10-25 16:46:08.010 -03:00 [DBG] Connection 0HMULIC3RS3LT established using the following protocol: "Tls12"
2023-10-25 16:46:08.152 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 16:46:08.221 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 16:46:08.915 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 16:46:09.130 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 16:46:09.138 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 16:46:09.144 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 12.7591ms
2023-10-25 16:46:09.144 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 1001.1542ms
2023-10-25 16:46:09.171 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 16:46:09.200 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.1295ms
2023-10-25 16:46:09.304 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 16:46:09.555 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 250.7316ms
2023-10-25 16:47:33.772 -03:00 [DBG] Connection id "0HMULIC3RS3LU" accepted.
2023-10-25 16:47:33.779 -03:00 [DBG] Connection id "0HMULIC3RS3LU" received FIN.
2023-10-25 16:47:33.780 -03:00 [DBG] Connection id "0HMULIC3RS3LU" started.
2023-10-25 16:47:33.781 -03:00 [DBG] Connection id "0HMULIC3RS3LV" accepted.
2023-10-25 16:47:33.791 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:47:33.792 -03:00 [DBG] Connection id "0HMULIC3RS3LV" started.
2023-10-25 16:47:33.795 -03:00 [DBG] Connection id "0HMULIC3RS3LU" stopped.
2023-10-25 16:47:33.796 -03:00 [DBG] Connection id "0HMULIC3RS3LU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:47:33.800 -03:00 [DBG] Connection 0HMULIC3RS3LV established using the following protocol: "Tls12"
2023-10-25 16:47:33.811 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7103/api/cities/1/pointsofinterest/1 - -
2023-10-25 16:47:33.813 -03:00 [DBG] DELETE requests are not supported
2023-10-25 16:47:33.843 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:47:33.848 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:47:33.850 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-10-25 16:47:33.852 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-10-25 16:47:33.879 -03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:47:33.881 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:47:33.882 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:47:33.883 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:47:33.884 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:47:33.885 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:47:33.886 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:47:34.288 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 16:47:34.528 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:47:34.533 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:47:34.534 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:47:34.536 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:47:34.537 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:47:34.537 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:47:34.540 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:47:34.544 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:47:34.545 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:47:34.546 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:47:34.546 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:47:34.547 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:47:34.548 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:47:35.430 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:47:35.483 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-10-25 16:47:35.785 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:47:35.845 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:47:36.448 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (596ms).
2023-10-25 16:47:36.465 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:47:36.487 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:47:36.506 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:47:36.561 -03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:47:36.575 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:47:36.583 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:47:36.590 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:47:36.595 -03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-10-25 16:47:36.644 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:47:36.661 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:47:36.663 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-10-25 16:47:36.664 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:47:36.664 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:47:36.666 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:47:36.667 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:47:36.684 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:47:36.715 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:47:36.718 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:47:36.719 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:47:36.735 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:47:36.749 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-10-25 16:47:36.758 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 2868.0277ms
2023-10-25 16:47:36.763 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-10-25 16:47:36.767 -03:00 [DBG] Connection id "0HMULIC3RS3LV" completed keep alive response.
2023-10-25 16:47:36.775 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:47:36.781 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7103/api/cities/1/pointsofinterest/1 - - - 204 - - 2971.6113ms
2023-10-25 16:47:45.861 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - -
2023-10-25 16:47:45.862 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:47:45.865 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:47:45.866 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:47:45.868 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:47:45.870 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:47:45.874 -03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:47:45.876 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:47:45.877 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:47:45.878 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:47:45.879 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:47:45.880 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:47:45.881 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:47:45.893 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:47:45.901 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:47:45.903 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:47:45.904 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:47:45.907 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:47:45.907 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:47:45.908 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:47:45.909 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:47:45.910 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:47:45.911 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:47:45.912 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:47:45.912 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:47:45.913 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:47:45.931 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:47:45.937 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:47:45.939 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 16:47:45.940 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:47:45.941 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:47:45.942 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:47:45.943 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:47:45.945 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:47:45.945 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:47:45.946 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:48:00.419 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:48:00.421 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 16:48:00.422 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:48:00.424 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:48:00.425 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:48:00.426 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:48:00.428 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:48:00.429 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:48:00.430 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:48:00.431 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:48:46.611 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 60754.6584ms
2023-10-25 16:48:46.616 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:48:46.618 -03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> IEnumerable`1
System.Object -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Models.PointOfInterestDTO, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method67(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointOfInterestId) in C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 61
   at lambda_method62(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-10-25 16:48:47.088 -03:00 [DBG] Connection id "0HMULIC3RS3LV" completed keep alive response.
2023-10-25 16:48:47.088 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:48:47.090 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 61253.4643ms
2023-10-25 16:49:17.031 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-25 16:49:17.785 -03:00 [DBG] Hosting starting
2023-10-25 16:49:18.251 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: E2D13858B43A095708D5057500EB75DD4763095A)
2023-10-25 16:49:18.319 -03:00 [INF] Now listening on: https://localhost:7103
2023-10-25 16:49:18.321 -03:00 [INF] Now listening on: http://localhost:5103
2023-10-25 16:49:18.322 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-10-25 16:49:18.324 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-25 16:49:18.325 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-25 16:49:18.327 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-25 16:49:18.329 -03:00 [INF] Hosting environment: Development
2023-10-25 16:49:18.330 -03:00 [INF] Content root path: C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\
2023-10-25 16:49:18.332 -03:00 [DBG] Hosting started
2023-10-25 16:49:18.592 -03:00 [DBG] Connection id "0HMULIDSV3HOI" accepted.
2023-10-25 16:49:18.597 -03:00 [DBG] Connection id "0HMULIDSV3HOI" received FIN.
2023-10-25 16:49:18.651 -03:00 [DBG] Connection id "0HMULIDSV3HOI" started.
2023-10-25 16:49:18.681 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:49:18.742 -03:00 [DBG] Connection id "0HMULIDSV3HOI" stopped.
2023-10-25 16:49:18.747 -03:00 [DBG] Connection id "0HMULIDSV3HOI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:49:19.385 -03:00 [DBG] Connection id "0HMULIDSV3HOJ" accepted.
2023-10-25 16:49:19.417 -03:00 [DBG] Connection id "0HMULIDSV3HOJ" started.
2023-10-25 16:49:19.649 -03:00 [DBG] Connection 0HMULIDSV3HOJ established using the following protocol: "Tls12"
2023-10-25 16:49:20.104 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/index.html - -
2023-10-25 16:49:20.194 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-10-25 16:49:20.494 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-10-25 16:49:20.942 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-10-25 16:49:20.956 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/index.html - - - 200 - text/html;charset=utf-8 862.0338ms
2023-10-25 16:49:21.040 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - -
2023-10-25 16:49:21.053 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 13.2805ms
2023-10-25 16:49:21.107 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/_vs/browserLink - -
2023-10-25 16:49:21.162 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.1683ms
2023-10-25 16:49:21.404 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - -
2023-10-25 16:49:21.707 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7103/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 303.6240ms
2023-10-25 16:50:16.191 -03:00 [DBG] Connection id "0HMULIDSV3HOK" accepted.
2023-10-25 16:50:16.197 -03:00 [DBG] Connection id "0HMULIDSV3HOK" received FIN.
2023-10-25 16:50:16.198 -03:00 [DBG] Connection id "0HMULIDSV3HOK" started.
2023-10-25 16:50:16.199 -03:00 [DBG] Connection id "0HMULIDSV3HOL" accepted.
2023-10-25 16:50:16.213 -03:00 [DBG] Connection id "0HMULIDSV3HOL" started.
2023-10-25 16:50:16.213 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-10-25 16:50:16.217 -03:00 [DBG] Connection id "0HMULIDSV3HOK" stopped.
2023-10-25 16:50:16.218 -03:00 [DBG] Connection id "0HMULIDSV3HOK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-10-25 16:50:16.220 -03:00 [DBG] Connection 0HMULIDSV3HOL established using the following protocol: "Tls12"
2023-10-25 16:50:16.237 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - -
2023-10-25 16:50:16.241 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:50:16.292 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:50:16.302 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:50:16.306 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:50:16.311 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:50:16.364 -03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:50:16.367 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:50:16.370 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:50:16.371 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:50:16.373 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:50:16.376 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:50:16.380 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:50:16.681 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-25 16:50:17.276 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:50:17.287 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:50:17.291 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:50:17.296 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:50:17.298 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:50:17.300 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:50:17.306 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:50:17.312 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:50:17.315 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:50:17.317 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:50:17.319 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:50:17.321 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:50:17.323 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:50:18.992 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:50:19.120 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-10-25 16:50:19.775 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:50:19.910 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:50:20.046 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (130ms).
2023-10-25 16:50:20.080 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:50:20.115 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:50:20.152 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:50:20.224 -03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:50:20.251 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:50:20.265 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:50:20.277 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:50:27.601 -03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-10-25 16:50:27.664 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-25 16:50:27.682 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:50:27.685 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-10-25 16:50:27.686 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:50:27.687 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:50:27.688 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:50:27.690 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:50:27.713 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:50:27.757 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:50:27.758 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:50:27.761 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:50:32.933 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 16:50:32.939 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 16:50:32.940 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 16:50:32.941 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 16:50:32.943 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 16:50:32.946 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDTO'.
2023-10-25 16:50:33.155 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 16771.7171ms
2023-10-25 16:50:33.163 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:50:33.166 -03:00 [DBG] Connection id "0HMULIDSV3HOL" completed keep alive response.
2023-10-25 16:50:33.171 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:50:33.178 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - - - 200 117 application/json;+charset=utf-8 16941.7411ms
2023-10-25 16:50:46.385 -03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7103/api/cities/1/pointsofinterest/1 - -
2023-10-25 16:50:46.387 -03:00 [DBG] DELETE requests are not supported
2023-10-25 16:50:46.389 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:50:46.390 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:50:46.392 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-10-25 16:50:46.393 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-10-25 16:50:46.399 -03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:50:46.400 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:50:46.402 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:50:46.404 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:50:46.405 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:50:46.407 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:50:46.409 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:50:46.429 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:50:46.433 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:50:46.434 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:50:46.436 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:50:46.437 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:50:46.438 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:50:46.439 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:50:46.440 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:50:46.441 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:50:46.444 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:50:46.445 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:50:46.446 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:50:46.447 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:50:46.459 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:50:46.467 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:50:46.469 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-10-25 16:50:46.470 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:50:46.472 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:50:46.473 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:50:46.476 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:50:46.478 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:50:46.478 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:50:46.479 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:50:46.480 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:50:46.481 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-10-25 16:50:46.482 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:50:46.483 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:50:46.484 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:50:46.486 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:50:46.487 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:50:46.489 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:50:46.492 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:50:46.493 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:50:46.523 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:50:46.537 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-10-25 16:50:46.538 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 129.2442ms
2023-10-25 16:50:46.539 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-10-25 16:50:46.542 -03:00 [DBG] Connection id "0HMULIDSV3HOL" completed keep alive response.
2023-10-25 16:50:46.544 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:50:46.546 -03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7103/api/cities/1/pointsofinterest/1 - - - 204 - - 160.4377ms
2023-10-25 16:50:51.428 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - -
2023-10-25 16:50:51.429 -03:00 [DBG] The request path  does not match the path filter
2023-10-25 16:50:51.430 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:50:51.431 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-10-25 16:50:51.433 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:50:51.434 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:50:51.436 -03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDTO]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-10-25 16:50:51.440 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-10-25 16:50:51.442 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-10-25 16:50:51.444 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-10-25 16:50:51.446 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-10-25 16:50:51.447 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-10-25 16:50:51.448 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:50:51.452 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-10-25 16:50:51.454 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:50:51.455 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-10-25 16:50:51.455 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:50:51.456 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:50:51.459 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-10-25 16:50:51.461 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-10-25 16:50:51.462 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:50:51.464 -03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-10-25 16:50:51.465 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:50:51.466 -03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:50:51.467 -03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-10-25 16:50:51.469 -03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-10-25 16:50:51.553 -03:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-10-25 16:50:51.559 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:50:51.560 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-10-25 16:50:51.561 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:50:51.563 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:50:51.565 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:50:51.568 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-10-25 16:50:51.570 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:50:51.572 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:50:51.573 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:50:55.189 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-10-25 16:50:55.191 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-10-25 16:50:55.193 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:50:55.197 -03:00 [DBG] Opened connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:50:55.199 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:50:55.201 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2023-10-25 16:50:55.202 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-25 16:50:55.203 -03:00 [DBG] A data reader was disposed.
2023-10-25 16:50:55.204 -03:00 [DBG] Closing connection to database 'main' on server 'C:\Projetos Pessoais\.NET\CityInfo\CityInfo.API\CityInfo.db'.
2023-10-25 16:50:55.206 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-10-25 16:50:55.210 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-10-25 16:50:55.212 -03:00 [DBG] No information found on request to perform content negotiation.
2023-10-25 16:50:55.212 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-10-25 16:50:55.213 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-10-25 16:50:55.213 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-25 16:50:55.214 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDTO'.
2023-10-25 16:50:55.215 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 3766.7743ms
2023-10-25 16:50:55.216 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-10-25 16:50:55.217 -03:00 [DBG] Connection id "0HMULIDSV3HOL" completed keep alive response.
2023-10-25 16:50:55.217 -03:00 [DBG] 'CityInfoContext' disposed.
2023-10-25 16:50:55.218 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7103/api/cities/1/pointsofinterest/1 - - - 200 117 application/json;+charset=utf-8 3790.5010ms
